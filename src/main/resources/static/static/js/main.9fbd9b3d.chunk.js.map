{"version":3,"sources":["context/actionTypes.js","context/order-reducer.js","context/actions.js","services/utils.js","ComboBox.js","services/auth-service.js","context/auth-reducer.js","models/SortObject.js","models/FilterObject.js","context/sort-reducer.js","models/CustomerObject.js","context/customerModal-reducer.js","context/store.js","InfoMessage.js","InputField.js","models/OrderKindObject.js","models/OrderObject.js","models/OrderTypeObject.js","SwitchControl.js","AddOrderForm.js","hooks/useSaveOrder.js","hooks/useSaveCELink.js","hooks/useSaveCPLink.js","hooks/useSaveOrderKind.js","hooks/useSaveOrderType.js","hooks/useSaveDimensions.js","DatePicker.js","DependentInput.js","services/customer-service.js","hooks/usePaymentMethods.js","PaymentForm.js","hooks/useMakePayment.js","hooks/useUpdatePaymentMethod.js","SortForm.js","ActionBar.js","FilterForm.js","SortActionBar.js","UsersActionBar.js","hooks/useAssignCustomer.js","ClientsTable.js","hooks/useExportCustomers.js","DebtorsTable.js","CustomerForm.js","hooks/useSaveCustomer.js","Header.js","Login.js","ToolTip.js","EditForm.js","hooks/useDeleteOrder.js","hooks/useUpdateOrder.js","services/orders-service.js","StatusPopper.js","hooks/useSetStatus.js","Table.js","hooks/useOrders.js","hooks/useExportOrders.js","App.js","hooks/useCustomers.js","hooks/useEntrepreneurs.js","hooks/useEmployees.js","hooks/useOrderTypes.js","hooks/useStatuses.js","hooks/useUsers.js","hooks/useCELinks.js","hooks/useCPLinks.js","hooks/useDebtors.js","NotFound.js","ProtectedRoute.js","index.js"],"names":["ADD_ORDER","LOAD_ORDERS","SET_AUTHENTICATED","SET_UNAUTHENTICATED","RESET_SELECTIONS","SELECT_CUSTOMER","UNSELECT_CUSTOMER","SET_ACTIVE_SORTING","UPDATE_MAIN_SORTING","UPDATE_SORT_SORTING","UPDATE_PAYMENT_SORTING","UPDATE_FILTER_SORTING","ADD_MAIN_SORTING","ADD_SORT_SORTING","ADD_PAYMENT_SORTING","ADD_FILTER_SORTING","SHOW_CUSTOMER_MODAL","CLOSE_CUSTOMER_MODAL","SET_MAIN_TAB","SET_FILTER_OPENED","SET_FILTER_CLOSED","initialState","mainPageOrderList","sortPageOrderList","isLoading","orderReducer","state","action","type","ActionTypes","payload","token","employee","customer","username","roles","fullName","sorting","UPDATE_SORTING","selections","sortPage","id","calculateM2","order","m2","width","height","amount","toFixed","checkPriceShrink","form","shrinkStatus","setShrinkStatus","price","shrink","fixCustomers","data","map","row","orderId","customerId","calculateSum","Math","ceil","fees","NoPaddingAutocomplete","withStyles","root","transform","top","right","inputRoot","padding","paddingRight","input","Autocomplete","ComboBox","label","getName","sortKey","error","validator","kindNameSetter","typeNameSetter","setEntrepreneur","setDimensions","setPrice","props","textFieldProps","setFieldValue","useFormikContext","values","fieldToTextField","field","name","dispatch","useDispatch","queryClient","useQueryClient","size","value","autoHighlight","getOptionLabel","onKeyPress","e","key","preventDefault","onChange","_","sortBy","selection","ADD_SORTING_BY","entrepreneur","getQueryData","find","link","orderKindId","orderKind","kindId","sum","renderInput","TextField","target","variant","authorize","credentials","a","Axios","post","response","unauthorize","store","isAuthenticated","loggedUser","authReducer","localStorage","setItem","JSON","stringify","customerName","money","defaults","headers","common","interceptors","use","status","AuthService","console","removeItem","EmptySort","dateFrom","dateTill","orderType","details","EmptyFilter","payDateFrom","payDateTill","receiver","active","mainTab","main","sort","payment","filter","filterTab","sortReducer","CustomerObject","customerGroup","payLog","debtor","city","info","firstPerson","firstPhone","firstEmail","secondPerson","secondPhone","secondEmail","thirdPerson","thirdPhone","thirdEmail","show","customerModalReducer","require","createStore","combineReducers","auth","orders","default","sortSelections","showCustomerModal","InfoMessage","open","onClose","message","Snackbar","anchorOrigin","vertical","horizontal","autoHideDuration","Alert","severity","CustomTextField","InputField","readonly","disableCalculation","numeric","phone","autoComplete","InputProps","readOnly","match","length","onKeyUp","EmptyOrderKind","typeId","kindName","EmptyOrder","billNo","date","userID","finalSum","paySum","comment","EmptyOrderType","typeName","SwitchControl","isChecked","useField","FormControlLabel","control","Switch","checked","color","useStyles","makeStyles","display","flexWrap","borderRadius","backgroundColor","margin","lock","minWidth","svg","fill","clear","justifySelf","validationSchema","yup","required","lessThan","positive","min","trim","max","AddOrderForm","classes","newOrderQuery","useMutation","params","newOrder","onSuccess","passedParams","setStatus","success","invalidateQueries","isReset","resetForm","onError","useSaveOrder","newCELinkQuery","get","entrepreneurId","useSaveCELink","newCPLinkQuery","useSaveCPLink","saveOrderKindQuery","orderKinds","push","useSaveOrderKind","saveOrderTypeQuery","useSaveOrderType","saveDimensionsQuery","put","useSaveDimensions","useState","showOrderInfo","setShowOrderInfo","showCELinkInfo","setShowCELinkInfo","showDimensionsInfo","setShowDimensionsInfo","showPriceInfo","setShowPriceInfo","showOrderTypeInfo","setShowOrderTypeInfo","showOrderKindInfo","setShowOrderKindInfo","orderKindName","setOrderKindName","orderTypeName","setOrderTypeName","handleClose","onAddCustomer","onAddOrderType","mutate","onFormSubmit","isUrgently","onAcceptance","setAcceptance","clearFields","keepFields","className","validateOnChange","validateOnMount","validateOnBlur","initialValues","parse","getItem","onSubmit","errors","validateField","handleReset","component","disabled","isFetching","option","options","Button","tabIndex","disableRipple","onClick","FirstPageOutlined","b","parseInt","substring","indexOf","LinkOutlined","OutlinedInput","endAdornment","InputAdornment","position","InputLabelProps","LockOpenOutlined","clearAndUnsort","datepicker","marginLeft","justifyContent","DatePicker","onTouch","autoOk","helperText","inputVariant","format","KeyboardButtonProps","DependentInput","React","useEffect","paymentType","paymentPercentage","fetchCustomers","includes","source","CancelToken","cancelToken","res","cancel","fetchEntrepreneurs","fetchUsers","fetchOrderTypes","fetchStatuses","fetchEmployees","fetchDebtors","fetchPaymentMethods","fetchCELinks","fetchCPLinks","usePaymentMethods","useQuery","DataService","initialData","initialStale","keepPreviousData","row__one","gridColumnGap","gridTemplateColumns","row__two","gridTemplateRows","button","gridColumn","successInfo","successText","errorInfo","errorText","errorSvg","fontSize","successSvg","nullable","paymentDate","percentage","PaymentForm","makePaymentQuery","useMakePayment","paymentMethods","sortState","useSelector","updatePaymentMethodQuery","paymentMethod","useUpdatePaymentMethod","showPaymentInfo","setShowPaymentInfo","showPercentageLinkInfo","setShowPercentageLinkInfo","Date","currentTime","setHours","getHours","setMinutes","getMinutes","setSeconds","getSeconds","setCurrentTime","style","SortForm","authState","showUserOrders","ActionBar","tabId","hideFor","some","role","setSortView","Typography","src","alt","showCustomerInfo","Collapse","in","timeout","onEntered","unmountOnExit","concat","method","SortActionBar","FilterForm","gap","submit","user","assignCustomer","useAssignCustomer","showAssignmentResult","setShowAssignmentResult","actions","columns","headerName","flex","renderCell","Link","cellClassName","ClientsTable","exportQuery","customers","responseType","val","blob","Blob","window","navigator","msSaveOrOpenBlob","URL","createObjectURL","document","createElement","href","download","dispatchEvent","MouseEvent","bubbles","cancelable","view","q","setQ","rows","toString","toLowerCase","placeholder","sortModel","loading","rowHeight","headerHeight","pagination","disableSelectionOnClick","formatDate","Intl","DateTimeFormat","year","month","day","hour","minute","second","hour12","valueFormatter","param","fixDebtors","debtors","i","lastOrderDate","lastPaymentDate","theme","modal","alignItems","paper","palette","background","boxShadow","shadows","spacing","cursor","primary","h2","textAlign","fontWeight","marginBottom","buttons","clearButton","marginRight","rowOne","gridRowGap","rowTwo","longTextField","gridColumnStart","gridColumnEnd","switchHolder","auxiliaryRow","email","CustomerForm","customerModalState","saveCustomerQuery","log","useSaveCustomer","showSavedInfo","setShowSavedInfo","sortByCustomer","Modal","aria-labelledby","aria-describedby","closeAfterTransition","BackdropComponent","Backdrop","BackdropProps","Fade","flexGrow","logoutButton","logoutHolder","whiteSpace","tabs","Header","radius","history","useHistory","setValue","borderBottomLeftRadius","borderBottomRightRadius","Toolbar","Tabs","_e","newValue","TabIndicatorProps","indicatorColor","aria-label","Tab","Copyright","align","getFullYear","marginTop","flexDirection","avatar","secondary","Login","password","setForm","showNotYetVerified","setShowNotYetVerified","showWrongCredentials","setShowWrongCredentials","isDisabled","setIsDisabled","Container","maxWidth","CssBaseline","Avatar","then","catch","err","fullWidth","autoFocus","Grid","container","item","xs","Box","mt","useStylesTooltip","arrow","tooltip","ToolTip","title","placement","children","Tooltip","lineHeight","rowThree","EditForm","deleteQuery","delete","setShowModal","useDeleteOrder","updateOrderQuery","backupOrder","updateObject","onMutate","mutationObject","getQueryCache","findAll","forEach","query","setQueryData","queryKey","cachedOrder","_error","toggleModal","useUpdateOrder","setOpen","showDeleteError","setShowDeleteError","showSaveError","setShowSaveError","showConfirmation","setShowConfirmation","toggle","isNotMyOrder","employeeID","amI","isDisabledFor","multiline","Dialog","fullScreen","DialogTitle","DialogContent","DialogContentText","DialogActions","fixOrders","sortOrders","tableId","sendForm","listOfOrders","sources","acceptanceButton","border","borderColor","inWorkButton","readyButton","completedButton","popper","zIndex","left","borderWidth","content","borderStyle","StatusPopper","statusQuery","statusId","useSetStatus","anchorRef","useRef","arrowRef","setArrowRef","prevOpen","img","ref","Popper","anchorEl","current","disablePortal","modifiers","flip","enabled","preventOverflow","boundariesElement","element","o","strcmp","localeCompare","Table","tableID","sortOrder","setSortOrder","showBackdrop","setShowBackdrop","ordersQuery","OrderService","useOrders","setBackdrop","CircularProgress","customerInfo","c","debt","reduce","calculateDebt","paid","orderBy","sortComparator","c1","c2","Number","parseFloat","sortable","payDate","Object","keys","column","sortDirection","onSortModelChange","App","tableHeight","setTableHeight","CustomerService","refetchOnWindowFocus","useCustomers","useEntrepreneurs","useEmployees","useOrderTypes","useStatuses","useUsers","useCELinks","useCPLinks","useDebtors","getElementsByClassName","innerHeight","clientHeight","path","exact","NotFound","Paper","elevation","ProtectedRoute","Component","authToken","split","render","to","pathname","from","location","oldTheme","createMuiTheme","light","dark","typography","useNextVariants","htmlFontSize","ukUA","breakpoints","overrides","MuiInputLabel","up","down","MuiInputAdornment","MuiInputBase","MuiTypography","subtitle1","body1","MuiButton","MuiTab","MuiSvgIcon","prototype","toISOString","formatISO","this","substr","queryCache","QueryCache","QueryClient","ReactDOM","QueryClientProvider","client","utils","DateFnsUtils","locale","uk","getElementById"],"mappings":"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","file":"static/js/main.9fbd9b3d.chunk.js","sourcesContent":["export const ADD_ORDER = \"ADD_ORDER\";\nexport const LOAD_ORDERS = \"LOAD_ORDERS\";\n\nexport const SET_AUTHENTICATED = \"SET_AUTHENTICATED\";\nexport const SET_UNAUTHENTICATED = \"SET_UNAUTHENTICATED\";\nexport const RESET_SELECTIONS = \"RESET_SELECTIONS\";\n\nexport const SELECT_CUSTOMER = \"SELECT_CUSTOMER\";\nexport const UNSELECT_CUSTOMER = \"UNSELECT_CUSTOMER\";\n\nexport const SET_ACTIVE_SORTING = \"SET_ACTIVE_SORTING\";\nexport const UPDATE_MAIN_SORTING = \"UPDATE_MAIN_SORTING\";\nexport const UPDATE_SORT_SORTING = \"UPDATE_SORT_SORTING\";\nexport const UPDATE_PAYMENT_SORTING = \"UPDATE_PAYMENT_SORTING\";\nexport const UPDATE_FILTER_SORTING = \"UPDATE_FILTER_SORTING\";\nexport const ADD_MAIN_SORTING = \"ADD_MAIN_SORTING\";\nexport const ADD_SORT_SORTING = \"ADD_SORT_SORTING\";\nexport const ADD_PAYMENT_SORTING = \"ADD_PAYMENT_SORTING\";\nexport const ADD_FILTER_SORTING = \"ADD_FILTER_SORTING\";\n\nexport const SHOW_CUSTOMER_MODAL = \"SHOW_CUSTOMER_MODAL\";\nexport const CLOSE_CUSTOMER_MODAL = \"CLOSE_CUSTOMER_MODAL\";\n\nexport const SET_MAIN_TAB = \"SET_MAIN_TAB\";\nexport const SET_FILTER_OPENED = \"SET_FILTER_OPENED\";\nexport const SET_FILTER_CLOSED = \"SET_FILTER_CLOSED\";\n","import * as ActionTypes from \"./actionTypes\";\n\nconst initialState = {\n  mainPageOrderList: [],\n  sortPageOrderList: [],\n  isLoading: true,\n};\n\nfunction orderReducer(state = initialState, action) {\n  switch (action.type) {\n    case ActionTypes.ADD_ORDER:\n      return {\n        ...state,\n        mainPageOrderList: [...state.mainPageOrderList, action.payload],\n        sortPageOrderList: [...state.sortPageOrderList, action.payload],\n      };\n    case ActionTypes.LOAD_ORDERS:\n      if (!action.payload) return state;\n      return {\n        ...state,\n        mainPageOrderList: action.payload,\n        sortPageOrderList: action.payload,\n        isLoading: false,\n      };\n    default:\n      return state;\n  }\n}\n\nexport default orderReducer;\n","import * as ActionTypes from \"./actionTypes\";\n\nexport const NEW_ORDER = (newOrder) => ({\n  type: ActionTypes.ADD_ORDER,\n  payload: newOrder,\n});\n\nexport const LOAD_ORDERS = (orders) => ({\n  type: ActionTypes.LOAD_ORDERS,\n  payload: orders,\n});\n\nexport const SET_AUTHENTICATED = (token, employee, customer, username, roles, fullName) => ({\n  type: ActionTypes.SET_AUTHENTICATED,\n  payload: {\n    token,\n    employee,\n    customer,\n    username,\n    roles,\n    fullName,\n  },\n});\n\nexport const SET_UNAUTHENTICATED = () => ({\n  type: ActionTypes.SET_UNAUTHENTICATED,\n});\n\nexport const RESET_SELECTIONS = () => ({\n  type: ActionTypes.RESET_SELECTIONS,\n});\n\nexport const SELECT_CUSTOMER = (customer) => ({\n  type: ActionTypes.SELECT_CUSTOMER,\n  payload: customer,\n});\n\nexport const DESELECT_CUSTOMER = () => ({\n  type: ActionTypes.UNSELECT_CUSTOMER,\n});\n\nexport const SET_ACTIVE_SORTING = (sorting) => ({\n  type: ActionTypes.SET_ACTIVE_SORTING,\n  payload: sorting,\n});\n\nexport const ADD_SORTING_BY = (selection, type) => {\n  let sortPage;\n  switch (type) {\n    case \"main\":\n      sortPage = ActionTypes.ADD_MAIN_SORTING;\n      break;\n    case \"sort\":\n      sortPage = ActionTypes.ADD_SORT_SORTING;\n      break;\n    case \"payment\":\n      sortPage = ActionTypes.ADD_PAYMENT_SORTING;\n      break;\n    case \"filter\":\n      sortPage = ActionTypes.ADD_FILTER_SORTING;\n      break;\n    default:\n      break;\n  }\n  return {\n    type: sortPage,\n    payload: selection,\n  };\n};\n\nexport const UPDATE_SORTING = (selections, type) => {\n  let sortPage;\n  switch (type) {\n    case \"main\":\n      sortPage = ActionTypes.UPDATE_MAIN_SORTING;\n      break;\n    case \"sort\":\n      sortPage = ActionTypes.UPDATE_SORT_SORTING;\n      break;\n    case \"payment\":\n      sortPage = ActionTypes.UPDATE_PAYMENT_SORTING;\n      break;\n    case \"filter\":\n      sortPage = ActionTypes.UPDATE_FILTER_SORTING;\n      break;\n    default:\n      break;\n  }\n  return {\n    type: sortPage,\n    payload: selections,\n  };\n};\n\nexport const SHOW_CUSTOMER_MODAL = (customer = {}) => {\n  return {\n    type: ActionTypes.SHOW_CUSTOMER_MODAL,\n    payload: customer,\n  };\n};\n\nexport const SET_MAIN_TAB = (id) => ({\n  type: ActionTypes.SET_MAIN_TAB,\n  payload: id,\n});\n\nexport const CLOSE_CUSTOMER_MODAL = () => ({\n  type: ActionTypes.CLOSE_CUSTOMER_MODAL,\n});\n\nexport const SET_FILTER_OPENED = () => ({\n  type: ActionTypes.SET_FILTER_OPENED,\n});\n\nexport const SET_FILTER_CLOSED = () => ({\n  type: ActionTypes.SET_FILTER_CLOSED,\n});\n","export function calculateM2(order) {\n  order.m2 = (((order.width * order.height) / 1000000) * order.amount).toFixed(3) || 0.0;\n}\n\nexport const checkPriceShrink = (form, shrinkStatus, setShrinkStatus) => {\n  if (form.price >= 0) {\n    if (!shrinkStatus.shrink) {\n      setShrinkStatus({\n        shrink: true,\n      });\n    }\n  } else if (shrinkStatus.shrink) {\n    setShrinkStatus({\n      shrink: false,\n    });\n  }\n};\n\nexport const fixCustomers = (data, id = 0) => {\n  return data.map((row) => {\n    if (row.orderId === 0) {\n      row.id = id;\n      row.customerId = id;\n    } else {\n      row.id = row.customerId;\n    }\n    return row;\n  });\n};\n\nexport const setCurrentTime = (date) => {\n  const currentTime = new Date();\n  date.setHours(currentTime.getHours());\n  date.setMinutes(currentTime.getMinutes());\n  date.setSeconds(currentTime.getSeconds());\n};\n\nexport const calculateSum = (order) => {\n  calculateM2(order);\n  return order.m2 > 0\n    ? Math.ceil(+(order.m2 * order.price) + +order.fees)\n    : Math.ceil(order.price * order.amount + +order.fees);\n};\n","import {TextField, withStyles} from \"@material-ui/core\";\nimport Autocomplete from \"@material-ui/lab/Autocomplete\";\nimport {useFormikContext} from \"formik\";\nimport {fieldToTextField} from \"formik-material-ui\";\nimport React from \"react\";\nimport {useQueryClient} from \"react-query\";\nimport {useDispatch} from \"react-redux\";\nimport {ADD_SORTING_BY} from \"./context/actions\";\nimport {calculateSum} from \"./services/utils\";\n\nconst NoPaddingAutocomplete = withStyles({\n  root: {\n    \"& .MuiInputLabel-marginDense\": {\n      transform: \"translate(14px, 9px) scale(1)\",\n    },\n\n    \"& .MuiInputLabel-shrink\": {\n      transform: \"translate(14px, -4px) scale(0.75)\",\n    },\n\n    \"& .MuiAutocomplete-endAdornment\": {\n      top: \"inherit\",\n    },\n\n    \"& .MuiAutocomplete-inputRoot[class*='MuiOutlinedInput-root'] .MuiAutocomplete-endAdornment\": {\n      right: 5,\n    },\n  },\n  inputRoot: {\n    '&&[class*=\"MuiOutlinedInput-root\"] $input': {\n      padding: 2,\n    },\n    '&&[class*=\"MuiOutlinedInput-root\"]': {\n      paddingRight: \"40px!important\",\n    },\n  },\n  input: {},\n})(Autocomplete);\n\nfunction ComboBox({\n  label,\n  getName,\n  sortKey,\n  error,\n  validator,\n  kindNameSetter = false,\n  typeNameSetter = false,\n  setEntrepreneur = false,\n  setDimensions = false,\n  setPrice = false,\n  action = false,\n  sortPage = \"\",\n  textFieldProps,\n  ...props\n}) {\n  const {\n    form: {setFieldValue},\n  } = props;\n  const {\n    values: {order},\n  } = useFormikContext();\n  const {...field} = fieldToTextField(props);\n  const {name} = field;\n  const dispatch = useDispatch();\n  const queryClient = useQueryClient();\n\n  return (\n    <NoPaddingAutocomplete\n      {...props}\n      size=\"small\"\n      error={\"\"}\n      value={field.value}\n      autoHighlight={true}\n      getOptionLabel={getName}\n      onKeyPress={(e) => {\n        if (e.key === \"=\" || e.key === \"+\") {\n          e.preventDefault();\n          if (action) action();\n        }\n      }}\n      onChange={(_, value) => {\n        if (sortKey) {\n          const sortBy = {};\n          sortBy[sortKey] = value;\n          dispatch(ADD_SORTING_BY(sortBy, sortPage));\n        }\n\n        if (setEntrepreneur) {\n          const entrepreneur =\n            queryClient\n              .getQueryData(\"ce-links\")\n              .find((link) => link.customer.customerId === value?.customerId)?.entrepreneur ||\n            null;\n          setFieldValue(\"order.entrepreneur\", entrepreneur);\n        }\n\n        setFieldValue(name, value);\n\n        if (setPrice) {\n          if (!value) return;\n          let customerId;\n          let orderKindId;\n          let width = order.width;\n          let height = order.height;\n\n          if (value.customerId) {\n            customerId = value.customerId;\n            orderKindId = order.orderKind?.kindId;\n          } else {\n            customerId = order.customer?.customerId;\n            orderKindId = value.kindId;\n            width = value.width || width;\n            height = value.height || height;\n          }\n          if (!customerId || !orderKindId) return;\n          const price =\n            queryClient\n              .getQueryData(\"cp-links\")\n              .find(\n                (link) =>\n                  link.customer?.customerId === customerId &&\n                  link.orderKind?.kindId === orderKindId\n              )?.price || 0;\n          setFieldValue(\"order.price\", price);\n\n          const sum = calculateSum({\n            ...order,\n            price: price,\n            width: width,\n            height: height,\n          });\n          if (sum) setFieldValue(\"order.finalSum\", sum);\n        }\n\n        if (setDimensions && value && value.width && value.height) {\n          setFieldValue(\"order.width\", value.width);\n          setFieldValue(\"order.height\", value.height);\n        }\n        validator(name);\n      }}\n      renderInput={(props) => (\n        <TextField\n          {...props}\n          error={!!error}\n          onChange={(e) => {\n            if (typeNameSetter) {\n              typeNameSetter(e.target.value);\n            } else if (kindNameSetter) {\n              kindNameSetter(e.target.value);\n            }\n          }}\n          label={label}\n          variant=\"outlined\"\n        />\n      )}\n    />\n  );\n}\n\nexport default ComboBox;\n","import Axios from \"axios\";\nimport {SET_UNAUTHENTICATED, RESET_SELECTIONS} from \"../context/actions\";\nimport store from \"../context/store\";\n\nexport const authorize = async (credentials) => {\n  const response = await Axios.post(\"/api/auth/signin\", credentials);\n  const data = response.data;\n  return data;\n};\n\nexport const unauthorize = () => {\n  store.dispatch(SET_UNAUTHENTICATED());\n  store.dispatch(RESET_SELECTIONS());\n};\n","import Axios from \"axios\";\nimport * as AuthService from \"../services/auth-service\";\nimport * as ActionTypes from \"./actionTypes\";\n\nconst initialState = {\n  isAuthenticated: false,\n  loggedUser: null,\n  customer: null,\n  roles: [],\n};\n\nfunction authReducer(state = initialState, action) {\n  switch (action.type) {\n    case ActionTypes.SET_AUTHENTICATED:\n      localStorage.setItem(\"token\", action.payload.token);\n      localStorage.setItem(\"username\", action.payload.username);\n      localStorage.setItem(\"fullName\", action.payload.fullName);\n      localStorage.setItem(\"roles\", action.payload.roles);\n\n      if (action.payload.customer) {\n        localStorage.setItem(\n          \"customer\",\n          JSON.stringify({\n            customerId: action.payload.customer.customerId,\n            customerName: action.payload.customer.customerName,\n            money: action.payload.customer.money,\n          })\n        );\n      } else {\n        localStorage.setItem(\"customer\", null);\n      }\n\n      localStorage.setItem(\"loggedUser\", JSON.stringify(action.payload.employee));\n\n      Axios.defaults.headers.common[\"Authorization\"] = `Bearer ${action.payload.token}`;\n      Axios.interceptors.response.use(\n        (response) => response,\n        (error) => {\n          error.response?.status === 401 ? AuthService.unauthorize() : console.error(error);\n          throw error;\n        }\n      );\n      return {\n        isAuthenticated: true,\n        loggedUser: action.payload.employee,\n        customer: action.payload.customer,\n        roles: action.payload.roles,\n      };\n    case ActionTypes.SET_UNAUTHENTICATED:\n      localStorage.removeItem(\"token\");\n      localStorage.removeItem(\"username\");\n      localStorage.removeItem(\"fullName\");\n      localStorage.removeItem(\"roles\");\n      localStorage.removeItem(\"customer\");\n      localStorage.removeItem(\"loggedUser\");\n      return initialState;\n    default:\n      return state;\n  }\n}\n\nexport default authReducer;\n","export const EmptySort = {\n  customer: null,\n  status: null,\n  dateFrom: null,\n  dateTill: null,\n  orderKind: null,\n  orderType: null,\n  employee: null,\n  details: \"\",\n};\n","export const EmptyFilter = {\n  entrepreneur: null,\n  customer: null,\n  status: null,\n  employee: null,\n  dateFrom: null,\n  dateTill: null,\n  payDateFrom: null,\n  payDateTill: null,\n  orderKind: null,\n  orderType: null,\n  receiver: \"\",\n};\n","import * as ActionTypes from \"./actionTypes\";\nimport {EmptySort} from \"../models/SortObject\";\nimport {EmptyFilter} from \"../models/FilterObject\";\n\nconst initialState = {\n  active: \"main\",\n  mainTab: 0,\n  main: EmptySort,\n  sort: EmptySort,\n  payment: EmptySort,\n  filter: EmptyFilter,\n  filterTab: false,\n};\n\nfunction sortReducer(state = initialState, action) {\n  switch (action.type) {\n    case ActionTypes.RESET_SELECTIONS:\n      return initialState;\n    case ActionTypes.SET_ACTIVE_SORTING:\n      return {...state, active: action.payload};\n    case ActionTypes.ADD_MAIN_SORTING:\n      return {...state, main: {...state.main, ...action.payload}};\n    case ActionTypes.ADD_SORT_SORTING:\n      return {...state, sort: {...state.sort, ...action.payload}};\n    case ActionTypes.ADD_PAYMENT_SORTING:\n      return {...state, payment: {...state.payment, ...action.payload}};\n    case ActionTypes.ADD_FILTER_SORTING:\n      return {...state, filter: {...state.filter, ...action.payload}};\n    case ActionTypes.UPDATE_MAIN_SORTING:\n      return {...state, main: action.payload};\n    case ActionTypes.UPDATE_SORT_SORTING:\n      return {...state, sort: action.payload};\n    case ActionTypes.UPDATE_PAYMENT_SORTING:\n      return {...state, payment: action.payload};\n    case ActionTypes.UPDATE_FILTER_SORTING:\n      return {...state, filter: action.payload};\n    case ActionTypes.SET_MAIN_TAB:\n      return {...state, mainTab: action.payload};\n    case ActionTypes.SET_FILTER_OPENED:\n      return {...state, filterTab: true};\n    case ActionTypes.SET_FILTER_CLOSED:\n      return {...state, filterTab: false};\n    default:\n      return state;\n  }\n}\n\nexport default sortReducer;\n","export const CustomerObject = {\n  customerId: 0,\n  customerName: \"\",\n  customerGroup: \"\",\n  money: 0,\n  payLog: \"\",\n  debtor: false,\n  city: \"\",\n  info: \"\",\n  firstPerson: \"\",\n  firstPhone: \"\",\n  firstEmail: \"\",\n  secondPerson: \"\",\n  secondPhone: \"\",\n  secondEmail: \"\",\n  thirdPerson: \"\",\n  thirdPhone: \"\",\n  thirdEmail: \"\",\n};\n","import {CustomerObject} from \"../models/CustomerObject\";\nimport * as ActionTypes from \"./actionTypes\";\n\nconst initialState = {\n  show: false,\n  customer: CustomerObject,\n};\n\nfunction customerModalReducer(state = initialState, action) {\n  switch (action.type) {\n    case ActionTypes.SHOW_CUSTOMER_MODAL:\n      return {show: true, customer: action.payload};\n    case ActionTypes.CLOSE_CUSTOMER_MODAL:\n      return {show: false, customer: {}};\n    default:\n      return state;\n  }\n}\n\nexport default customerModalReducer;\n","import authReducer from \"./auth-reducer\";\nimport sortReducer from \"./sort-reducer\";\nimport customerModalReducer from \"./customerModal-reducer\";\n\nconst {createStore, combineReducers} = require(\"redux\");\nconst {default: orderReducer} = require(\"./order-reducer\");\n\nconst store = createStore(\n  combineReducers({\n    auth: authReducer,\n    orders: orderReducer,\n    sortSelections: sortReducer,\n    showCustomerModal: customerModalReducer,\n  })\n);\n\nexport default store;\n","import {Snackbar} from \"@material-ui/core\";\nimport {Alert} from \"@material-ui/lab\";\nimport React from \"react\";\n\nfunction InfoMessage({open, onClose, message, type}) {\n  if (type === \"success\") {\n    return (\n      <Snackbar\n        anchorOrigin={{\n          vertical: \"top\",\n          horizontal: \"center\",\n        }}\n        open={open}\n        autoHideDuration={3000}\n        onClose={onClose}\n      >\n        <Alert onClose={onClose} variant=\"filled\" severity=\"success\">\n          {message}\n        </Alert>\n      </Snackbar>\n    );\n  } else {\n    return (\n      <Snackbar\n        anchorOrigin={{\n          vertical: \"top\",\n          horizontal: \"center\",\n        }}\n        open={open}\n        autoHideDuration={3000}\n        onClose={onClose}\n      >\n        <Alert onClose={onClose} variant=\"filled\" severity=\"error\">\n          {message}\n        </Alert>\n      </Snackbar>\n    );\n  }\n}\n\nexport default InfoMessage;\n","import {TextField, withStyles} from \"@material-ui/core\";\nimport {useFormikContext} from \"formik\";\nimport React from \"react\";\nimport {calculateM2, calculateSum} from \"./services/utils\";\n\nconst CustomTextField = withStyles({\n  root: {\n    \"& .MuiInputLabel-marginDense\": {\n      transform: \"translate(14px, 9px) scale(1)\",\n    },\n\n    \"& .MuiOutlinedInput-input\": {\n      padding: 8,\n    },\n\n    \"& .MuiInputLabel-shrink\": {\n      transform: \"translate(14px, -4px) scale(0.75)\",\n    },\n  },\n})(TextField);\n\nconst InputField = ({\n  label,\n  field,\n  error,\n  readonly = false,\n  validator,\n  disableCalculation = false,\n  numeric = true,\n  phone = false,\n  ...props\n}) => {\n  const {\n    form: {setFieldValue},\n  } = props;\n  const {values: form} = useFormikContext();\n  const {onChange, name} = field;\n  return (\n    <CustomTextField\n      {...props}\n      {...field}\n      error={!!error}\n      size=\"small\"\n      variant=\"outlined\"\n      autoComplete=\"off\"\n      label={label}\n      InputProps={{readOnly: readonly}}\n      onChange={(e) => {\n        if (!numeric) onChange(e);\n        if (e.target.value.match(/^\\d*\\.?\\d*$/) || e.target.value.length === 0) {\n          onChange(e);\n        }\n        validator(name);\n      }}\n      onKeyUp={(_) => {\n        if (!numeric || phone || !form.order || disableCalculation) return;\n        calculateM2(form.order);\n        const sum = calculateSum(form.order);\n        if (sum) setFieldValue(\"order.finalSum\", sum);\n      }}\n    />\n  );\n};\n\nexport default InputField;\n","export const EmptyOrderKind = {\n  kindId: 0,\n  typeId: 0,\n  kindName: \"\",\n  width: 0,\n  height: 0,\n};\n","export const EmptyOrder = {\n  orderId: 0,\n  billNo: 0,\n  date: \"\",\n  employee: {userID: 60},\n  entrepreneur: null,\n  customer: null,\n  orderType: null,\n  orderKind: null,\n  width: 0,\n  height: 0,\n  amount: 0,\n  m2: 0.0,\n  price: 0,\n  fees: 0,\n  finalSum: 0,\n  paySum: 0,\n  status: {id: 1},\n  comment: \"\",\n};\n","export const EmptyOrderType = {\n  typeId: 0,\n  typeName: \"\",\n};\n","import { FormControlLabel, Switch } from \"@material-ui/core\";\nimport { useField } from \"formik\";\nimport React from \"react\";\n\nconst SwitchControl = ({ label, isChecked, ...props }) => {\n  const [field] = useField(props);\n  return (\n    <FormControlLabel\n      control={<Switch {...props} {...field} checked={isChecked} color=\"primary\" />}\n      label={label}\n    />\n  );\n};\n\nexport default SwitchControl;\n","import {Button} from \"@material-ui/core\";\nimport InputAdornment from \"@material-ui/core/InputAdornment\";\nimport OutlinedInput from \"@material-ui/core/OutlinedInput\";\nimport {makeStyles} from \"@material-ui/core/styles\";\nimport {FirstPageOutlined, LinkOutlined, LockOpenOutlined} from \"@material-ui/icons\";\nimport RefreshIcon from \"@material-ui/icons/Refresh\";\nimport {Field, Form, Formik} from \"formik\";\nimport React, {useState} from \"react\";\nimport {useQueryClient} from \"react-query\";\nimport {useDispatch} from \"react-redux\";\nimport * as yup from \"yup\";\nimport \"./AddOrderForm.css\";\nimport ComboBox from \"./ComboBox\";\nimport {SHOW_CUSTOMER_MODAL, UPDATE_SORTING} from \"./context/actions\";\nimport store from \"./context/store\";\nimport useSaveCELink from \"./hooks/useSaveCELink\";\nimport useSaveCPLink from \"./hooks/useSaveCPLink\";\nimport useSaveDimensions from \"./hooks/useSaveDimensions\";\nimport useSaveOrder from \"./hooks/useSaveOrder\";\nimport useSaveOrderKind from \"./hooks/useSaveOrderKind\";\nimport useSaveOrderType from \"./hooks/useSaveOrderType\";\nimport InfoMessage from \"./InfoMessage\";\nimport InputField from \"./InputField\";\nimport {CustomerObject} from \"./models/CustomerObject\";\nimport {EmptyOrderKind} from \"./models/OrderKindObject\";\nimport {EmptyOrder} from \"./models/OrderObject\";\nimport {EmptyOrderType} from \"./models/OrderTypeObject\";\nimport {EmptySort} from \"./models/SortObject\";\nimport {checkPriceShrink} from \"./services/utils\";\nimport SwitchControl from \"./SwitchControl\";\n\nconst useStyles = makeStyles(() => ({\n  root: {\n    display: \"flex\",\n    flexWrap: \"wrap\",\n    borderRadius: 4,\n    backgroundColor: \"white\",\n    margin: \"0 auto\",\n    width: \"52%\",\n  },\n  lock: {\n    padding: 0,\n    width: \"5px\",\n    backgroundColor: \"white !important\",\n    minWidth: 0,\n\n    \"&:hover\": {\n      backgroundColor: \"white\",\n    },\n  },\n  svg: {\n    fill: \"rgba(0, 0, 0, 0.23)\",\n\n    \"&:hover\": {\n      fill: \"black\",\n    },\n  },\n  clear: {\n    backgroundColor: \"#fff\",\n    minWidth: 0,\n    justifySelf: \"flex-end\",\n    margin: \"0px 0px 1px 0\",\n    width: \"2.4rem\",\n  },\n}));\n\nconst validationSchema = yup.object({\n  order: yup.object({\n    entrepreneur: yup.object().required(),\n    customer: yup.object().required(),\n    orderType: yup.object().required(),\n    orderKind: yup.object().required(),\n    width: yup.number().lessThan(2000000000).positive().min(0).required(),\n    height: yup.number().lessThan(2000000000).positive().min(0).required(),\n    amount: yup.number().lessThan(2000000000).positive().min(0).required(),\n    price: yup.number().lessThan(2000000000).positive().min(0).required(),\n    fees: yup.number().lessThan(2000000000).positive().min(0).required(),\n    finalSum: yup.number().lessThan(2000000000).positive().min(0).required(),\n    comment: yup.string().trim().max(255).required(),\n  }),\n});\n\nexport default function AddOrderForm() {\n  const classes = useStyles();\n  const dispatch = useDispatch();\n  const queryClient = useQueryClient();\n  const newOrderQuery = useSaveOrder();\n  const newCELinkQuery = useSaveCELink();\n  const newCPLinkQuery = useSaveCPLink();\n  const saveOrderKindQuery = useSaveOrderKind();\n  const saveOrderTypeQuery = useSaveOrderType();\n  const saveDimensionsQuery = useSaveDimensions();\n  const [shrinkStatus, setShrinkStatus] = useState({});\n  const [showOrderInfo, setShowOrderInfo] = useState({\n    success: false,\n    error: false,\n  });\n  const [showCELinkInfo, setShowCELinkInfo] = useState({\n    success: false,\n    error: false,\n  });\n  const [showDimensionsInfo, setShowDimensionsInfo] = useState({\n    success: false,\n    error: false,\n  });\n  const [showPriceInfo, setShowPriceInfo] = useState({\n    success: false,\n    error: false,\n  });\n  const [showOrderTypeInfo, setShowOrderTypeInfo] = useState({\n    success: false,\n    error: false,\n  });\n  const [showOrderKindInfo, setShowOrderKindInfo] = useState({\n    success: false,\n    error: false,\n  });\n  const [orderKindName, setOrderKindName] = useState(\"\");\n  const [orderTypeName, setOrderTypeName] = useState(\"\");\n\n  const handleClose = () => {\n    setShowOrderInfo({success: false, error: false});\n    setShowCELinkInfo({success: false, error: false});\n    setShowDimensionsInfo({success: false, error: false});\n    setShowPriceInfo({success: false, error: false});\n    setShowOrderKindInfo({success: false, error: false});\n    setShowOrderTypeInfo({success: false, error: false});\n  };\n\n  const clearAndUnsort = (e, resetForm) => {\n    queryClient.invalidateQueries(\"customers\");\n    queryClient.invalidateQueries(\"ce-links\");\n    queryClient.invalidateQueries(\"cp-links\");\n    store.dispatch(UPDATE_SORTING({...EmptySort}, \"main\"));\n    resetForm(e);\n  };\n\n  const onAddCustomer = () => {\n    dispatch(SHOW_CUSTOMER_MODAL({...CustomerObject}));\n  };\n\n  const onAddOrderType = () => {\n    if (orderTypeName.trim().length === 0) {\n      setShowOrderTypeInfo({success: false, error: true});\n      return;\n    }\n    saveOrderTypeQuery.mutate({\n      orderType: {\n        ...EmptyOrderType,\n        typeName: orderTypeName,\n      },\n      setStatus: setShowOrderTypeInfo,\n    });\n  };\n\n  const onAddOrderKind = (orderType) => {\n    if (orderKindName.trim().length === 0 || !orderType) {\n      setShowOrderKindInfo({success: false, error: true});\n      return;\n    }\n    saveOrderKindQuery.mutate({\n      orderType: orderType,\n      orderKind: {\n        ...EmptyOrderKind,\n        typeId: orderType.typeId,\n        kindName: orderKindName,\n      },\n      setStatus: setShowOrderKindInfo,\n    });\n  };\n\n  const linkCustomer = (customer, entrepreneur) => {\n    if (!customer || !entrepreneur) {\n      setShowCELinkInfo({success: false, error: true});\n      return;\n    }\n    newCELinkQuery.mutate({\n      customerId: customer.customerId,\n      entrepreneurId: entrepreneur.entrepreneurId,\n      setStatus: setShowCELinkInfo,\n    });\n  };\n\n  const linkDimensions = (orderKind, width, height) => {\n    if (!orderKind || !width || !height) {\n      setShowDimensionsInfo({success: false, error: true});\n      return;\n    }\n    orderKind.width = width;\n    orderKind.height = height;\n    saveDimensionsQuery.mutate({\n      orderKind: orderKind,\n      setStatus: setShowDimensionsInfo,\n    });\n  };\n\n  const linkPrice = (customer, orderKind, price) => {\n    if (!customer || !orderKind || !price) {\n      setShowPriceInfo({success: false, error: true});\n      return;\n    }\n    newCPLinkQuery.mutate({\n      customerId: customer.customerId,\n      orderKindId: orderKind.kindId,\n      price: price,\n      setStatus: setShowPriceInfo,\n    });\n  };\n\n  const setUrgence = (isUrgently, order) => {\n    if (isUrgently) {\n      if (order.finalSum * 0.15 < 10) {\n        order.finalSum = +order.finalSum + 10;\n      } else {\n        order.finalSum = Math.ceil(order.finalSum * 1.15);\n      }\n      order.comment = \"(Терміново) \" + order.comment;\n    }\n  };\n\n  const setAcceptance = (onAcceptance, order) => {\n    onAcceptance\n      ? (order.status = queryClient.getQueryData(\"statuses\").find((status) => status.id === 1))\n      : (order.status = queryClient\n          .getQueryData(\"statuses\")\n          .find((status) => status.id === 2));\n  };\n\n  const onFormSubmit = (form, resetForm, setFieldValue) => {\n    setUrgence(form.isUrgently, form.order);\n    setAcceptance(form.onAcceptance, form.order);\n    newOrderQuery.mutate({\n      newOrder: form.order,\n      isReset: form.clearFields,\n      resetForm: form.clearFields ? resetForm : () => keepFields(form.order, setFieldValue),\n      setStatus: setShowOrderInfo,\n    });\n  };\n\n  const keepFields = (form, setFieldValue) => {\n    setFieldValue(\"order.width\", form.orderKind.width);\n    setFieldValue(\"order.height\", form.orderKind.height);\n    setFieldValue(\"order.amount\", 0);\n    const price =\n      queryClient\n        .getQueryData(\"cp-links\")\n        .find(\n          (link) =>\n            link.customer?.customerId === form.customer.customerId &&\n            link.orderKind?.kindId === form.orderKind.kindId\n        )?.price || 0;\n    setFieldValue(\"order.price\", price);\n    setFieldValue(\"order.fees\", 0);\n    setFieldValue(\"order.finalSum\", 0);\n    setFieldValue(\"order.comment\", \"\");\n  };\n\n  return (\n    <div className={classes.root}>\n      <Formik\n        validateOnChange={false}\n        validateOnMount={false}\n        validateOnBlur={false}\n        initialValues={{\n          order: {\n            ...EmptyOrder,\n            employee: JSON.parse(localStorage.getItem(\"loggedUser\")),\n          },\n          onAcceptance: false,\n          clearFields: true,\n          isUrgently: false,\n        }}\n        onSubmit={(form, {resetForm, setFieldValue}) =>\n          onFormSubmit(form, resetForm, setFieldValue)\n        }\n        validationSchema={validationSchema}\n      >\n        {({values, errors, validateField, handleReset}) => (\n          <Form>\n            {checkPriceShrink(values.order, shrinkStatus, setShrinkStatus)}\n            <div className=\"row__one\">\n              <Field\n                name=\"order.customer\"\n                label=\"Замовник\"\n                error={errors?.order?.customer}\n                validator={validateField}\n                component={ComboBox}\n                setEntrepreneur={true}\n                setPrice={true}\n                sortKey=\"customer\"\n                sortPage=\"main\"\n                action={onAddCustomer}\n                disabled={newOrderQuery.isFetching}\n                getName={(option) => option.customerName || \"\"}\n                options={queryClient.getQueryData(\"customers\") || []}\n              />\n              <Button\n                tabIndex={-1}\n                className={classes.lock}\n                disableRipple={true}\n                onClick={() => linkCustomer(values.order.customer, values.order.entrepreneur)}\n              >\n                <FirstPageOutlined className={classes.svg} />\n              </Button>\n              <Field\n                name=\"order.entrepreneur\"\n                label=\"Підприємець\"\n                error={errors?.order?.entrepreneur}\n                validator={validateField}\n                component={ComboBox}\n                disabled={newOrderQuery.isFetching}\n                getName={(option) => option.fullName || \"\"}\n                options={queryClient.getQueryData(\"entrepreneurs\") || []}\n              />\n              <Field\n                name=\"order.orderType\"\n                label=\"Вид\"\n                error={errors?.order?.orderType}\n                validator={validateField}\n                component={ComboBox}\n                typeNameSetter={setOrderTypeName}\n                action={onAddOrderType}\n                disabled={newOrderQuery.isFetching}\n                getName={(option) => option.typeName || \"\"}\n                options={queryClient.getQueryData(\"orderTypes\") || []}\n              />\n\n              <Field\n                name=\"order.orderKind\"\n                label=\"Тип\"\n                error={errors?.order?.orderKind}\n                validator={validateField}\n                component={ComboBox}\n                setPrice={true}\n                setDimensions={true}\n                action={() => onAddOrderKind(values.order.orderType)}\n                kindNameSetter={setOrderKindName}\n                disabled={newOrderQuery.isFetching}\n                getName={(option) => option.kindName || \"\"}\n                options={\n                  (values.order.orderType?.typeName === \"CTP\"\n                    ? values.order.orderType?.orderKinds.sort((a, b) =>\n                        parseInt(a.kindName.substring(0, a.kindName.indexOf(\"х\")), 10) >\n                        parseInt(b.kindName.substring(0, b.kindName.indexOf(\"х\")), 10)\n                          ? 1\n                          : -1\n                      ) || []\n                    : values.order.orderType?.orderKinds) || []\n                }\n              />\n            </div>\n\n            <div className=\"row__two\">\n              <Field\n                name=\"order.width\"\n                label=\"Ширина\"\n                error={errors?.order?.width}\n                validator={validateField}\n                component={InputField}\n                disabled={newOrderQuery.isFetching}\n              />\n              <Button\n                tabIndex={-1}\n                className={classes.lock}\n                disableRipple={true}\n                onClick={() =>\n                  linkDimensions(\n                    values.order.orderKind,\n                    values.order.width,\n                    values.order.height\n                  )\n                }\n              >\n                <LinkOutlined className={classes.svg} />\n              </Button>\n              <Field\n                name=\"order.height\"\n                label=\"Висота\"\n                error={errors?.order?.height}\n                validator={validateField}\n                component={InputField}\n                disabled={newOrderQuery.isFetching}\n              />\n              <Field\n                name=\"order.amount\"\n                label=\"Кількість\"\n                error={errors?.order?.amount}\n                validator={validateField}\n                component={InputField}\n                disabled={newOrderQuery.isFetching}\n              />\n              <OutlinedInput\n                id=\"outlined\"\n                size=\"small\"\n                variant=\"outlined\"\n                value={\n                  (\n                    ((values.order.width * values.order.height) / 1000000) *\n                    values.order.amount\n                  ).toFixed(3) || 0.0\n                }\n                endAdornment={<InputAdornment position=\"end\">м²</InputAdornment>}\n                disabled\n              />\n\n              <Field\n                name=\"order.price\"\n                label=\"Ціна\"\n                error={errors?.order?.price}\n                validator={validateField}\n                InputLabelProps={shrinkStatus}\n                component={InputField}\n                disabled={newOrderQuery.isFetching}\n              />\n              <Button\n                tabIndex={-1}\n                className={classes.lock}\n                disableRipple={true}\n                onClick={() =>\n                  linkPrice(values.order.customer, values.order.orderKind, values.order.price)\n                }\n              >\n                <LockOpenOutlined className={classes.svg} />\n              </Button>\n\n              <Field\n                name=\"order.fees\"\n                label=\"Послуги\"\n                error={errors?.order?.fees}\n                validator={validateField}\n                component={InputField}\n                disabled={newOrderQuery.isFetching}\n              />\n              <Field\n                name=\"order.finalSum\"\n                label=\"Сума\"\n                error={errors?.order?.finalSum}\n                validator={validateField}\n                component={InputField}\n                disableCalculation={true}\n                disabled={newOrderQuery.isFetching}\n              />\n            </div>\n\n            <div className=\"row__three\">\n              <Field\n                name=\"order.comment\"\n                label=\"Опис замовлення\"\n                error={errors?.order?.comment}\n                validator={validateField}\n                numeric={false}\n                component={InputField}\n                disabled={newOrderQuery.isFetching}\n              />\n            </div>\n\n            <div className=\"row__four\">\n              <div className=\"controls\">\n                <SwitchControl\n                  name=\"onAcceptance\"\n                  isChecked={values.onAcceptance}\n                  label=\"На погодженні\"\n                  disabled={newOrderQuery.isFetching}\n                />\n                <SwitchControl\n                  name=\"clearFields\"\n                  isChecked={values.clearFields}\n                  label=\"Очищати поля\"\n                  disabled={newOrderQuery.isFetching}\n                />\n                <SwitchControl\n                  name=\"isUrgently\"\n                  isChecked={values.isUrgently}\n                  label=\"Терміново\"\n                  disabled={newOrderQuery.isFetching}\n                />\n              </div>\n\n              <Button\n                color=\"primary\"\n                variant=\"contained\"\n                disabled={newOrderQuery.isFetching}\n                type=\"submit\"\n              >\n                Зберегти замовлення\n              </Button>\n\n              <Button\n                className={classes.clear}\n                onClick={(e) => clearAndUnsort(e, handleReset)}\n                disabled={newOrderQuery.isFetching}\n                variant=\"contained\"\n                type=\"button\"\n              >\n                <RefreshIcon></RefreshIcon>\n              </Button>\n            </div>\n          </Form>\n        )}\n      </Formik>\n      <InfoMessage\n        type=\"success\"\n        open={showOrderInfo.success}\n        onClose={handleClose}\n        message=\"Замовлення успішно додано.\"\n      />\n      <InfoMessage\n        type=\"error\"\n        open={showOrderInfo.error}\n        onClose={handleClose}\n        message=\"Помилка при додаванні замовлення.\"\n      />\n      <InfoMessage\n        type=\"success\"\n        open={showCELinkInfo.success}\n        onClose={handleClose}\n        message=\"Зв'язок збережено.\"\n      />\n      <InfoMessage\n        type=\"error\"\n        open={showCELinkInfo.error}\n        onClose={handleClose}\n        message=\"Помилка при збереженні зв'язку.\"\n      />\n      <InfoMessage\n        type=\"success\"\n        open={showDimensionsInfo.success}\n        onClose={handleClose}\n        message=\"Розміри збережено.\"\n      />\n      <InfoMessage\n        type=\"error\"\n        open={showDimensionsInfo.error}\n        onClose={handleClose}\n        message=\"Помилка при збереженні розмірів.\"\n      />\n      <InfoMessage\n        type=\"success\"\n        open={showPriceInfo.success}\n        onClose={handleClose}\n        message=\"Ціна прив'язана.\"\n      />\n      <InfoMessage\n        type=\"error\"\n        open={showPriceInfo.error}\n        onClose={handleClose}\n        message=\"Помилка при збереженні ціни.\"\n      />\n      <InfoMessage\n        type=\"success\"\n        open={showOrderKindInfo.success}\n        onClose={handleClose}\n        message=\"Тип успішно створений.\"\n      />\n      <InfoMessage\n        type=\"error\"\n        open={showOrderKindInfo.error}\n        onClose={handleClose}\n        message=\"Помилка при створенні типу. Можливо не вибраний вид.\"\n      />\n      <InfoMessage\n        type=\"success\"\n        open={showOrderTypeInfo.success}\n        onClose={handleClose}\n        message=\"Вид успішно створений.\"\n      />\n      <InfoMessage\n        type=\"error\"\n        open={showOrderTypeInfo.error}\n        onClose={handleClose}\n        message=\"Помилка при створенні виду.\"\n      />\n    </div>\n  );\n}\n","import Axios from \"axios\";\nimport {useMutation, useQueryClient} from \"react-query\";\nimport {UPDATE_SORTING} from \"../context/actions\";\nimport store from \"../context/store\";\nimport {EmptySort} from \"../models/SortObject\";\n\nexport default function useSaveOrder() {\n  const queryClient = useQueryClient();\n  return useMutation((params) => Axios.post(\"/api/orders/\", params.newOrder), {\n    onSuccess: (_, passedParams) => {\n      passedParams.setStatus({success: true, error: false});\n      queryClient.invalidateQueries([\"customers\"]);\n      if (passedParams.isReset) {\n        store.dispatch(UPDATE_SORTING({...EmptySort}, \"main\"));\n      } else {\n        queryClient.invalidateQueries([\"orders\"]);\n      }\n      passedParams.resetForm();\n    },\n    onError: (_, passedParams) => {\n      passedParams.setStatus({success: false, error: true});\n    },\n  });\n}\n","import Axios from \"axios\";\nimport {useMutation, useQueryClient} from \"react-query\";\n\nexport default function useSaveCELink() {\n  const queryClient = useQueryClient();\n  return useMutation(\n    (params) =>\n      Axios.get(\"/api/ce-links/\" + params.customerId + \"/\" + params.entrepreneurId),\n    {\n      onSuccess: (_, passedParams) => {\n        queryClient.invalidateQueries(\"ce-links\");\n        passedParams.setStatus({success: true, error: false});\n      },\n      onError: (_, passedParams) => {\n        passedParams.setStatus({success: false, error: true});\n      },\n    }\n  );\n}\n","import Axios from \"axios\";\nimport {useMutation, useQueryClient} from \"react-query\";\n\nexport default function useSaveCELink() {\n  const queryClient = useQueryClient();\n  return useMutation(\n    (params) =>\n      Axios.get(\n        \"/api/cp-links/\" +\n          params.customerId +\n          \"/\" +\n          params.orderKindId +\n          \"/\" +\n          params.price\n      ),\n    {\n      onSuccess: (_, passedParams) => {\n        queryClient.invalidateQueries(\"cp-links\");\n        passedParams.setStatus({success: true, error: false});\n      },\n      onError: (_, passedParams) => {\n        passedParams.setStatus({success: false, error: true});\n      },\n    }\n  );\n}\n","import Axios from \"axios\";\nimport {useMutation, useQueryClient} from \"react-query\";\n\nexport default function useSaveOrderKind() {\n  const queryClient = useQueryClient();\n  return useMutation((params) => Axios.post(\"/api/order-kinds/\", params.orderKind), {\n    onError: (_, params) => {\n      params.setStatus({success: false, error: true});\n    },\n    onSuccess: (response, params) => {\n      params.orderType.orderKinds.push(response.data);\n      queryClient.invalidateQueries([\"orderTypes\"]);\n      params.setStatus({success: true, error: false});\n    },\n  });\n}\n","import Axios from \"axios\";\nimport {useMutation, useQueryClient} from \"react-query\";\n\nexport default function useSaveOrderType() {\n  const queryClient = useQueryClient();\n  return useMutation((params) => Axios.post(\"/api/order-types/\", params.orderType), {\n    onError: (_, params) => {\n      params.setStatus({success: false, error: true});\n    },\n    onSuccess: (_, params) => {\n      queryClient.invalidateQueries([\"orderTypes\"]);\n      params.setStatus({success: true, error: false});\n    },\n  });\n}\n","import Axios from \"axios\";\nimport {useMutation, useQueryClient} from \"react-query\";\n\nexport default function useSaveDimensions() {\n  const queryClient = useQueryClient();\n  return useMutation((params) => Axios.put(\"/api/order-kinds/\", params.orderKind), {\n    onSuccess: (_, passedParams) => {\n      queryClient.invalidateQueries(\"orderTypes\");\n      passedParams.setStatus({success: true, error: false});\n    },\n    onError: (_, passedParams) => {\n      passedParams.setStatus({success: false, error: true});\n    },\n  });\n}\n","import {makeStyles} from \"@material-ui/core\";\nimport {KeyboardDatePicker} from \"@material-ui/pickers\";\nimport {fieldToTextField} from \"formik-material-ui\";\nimport React from \"react\";\n\nconst useStyles = makeStyles(() => ({\n  datepicker: {\n    margin: 0,\n\n    \"& .MuiButtonBase-root\": {\n      padding: 2,\n    },\n\n    \"& .MuiOutlinedInput-input\": {\n      padding: 8,\n    },\n\n    \"& .MuiInputLabel-outlined\": {\n      transform: \"translate(14px, 10px) scale(1)\",\n    },\n\n    \"& .MuiInputLabel-shrink\": {\n      transform: \"translate(14px, -4px) scale(0.75)\",\n    },\n\n    \"& .MuiOutlinedInput-adornedEnd\": {\n      paddingRight: 3,\n    },\n\n    \"& .MuiInputAdornment-root\": {\n      width: \"25%\",\n      marginLeft: 0,\n      justifyContent: \"flex-end\",\n    },\n  },\n}));\n\nfunction DatePicker({label, validator, onTouch = false, ...props}) {\n  const classes = useStyles();\n  const {\n    form: {setFieldValue},\n  } = props;\n  const {...field} = fieldToTextField(props);\n  const {name} = field;\n\n  return (\n    <KeyboardDatePicker\n      {...props}\n      {...field}\n      autoOk={true}\n      autoComplete=\"off\"\n      helperText={\"\"}\n      className={classes.datepicker}\n      inputVariant=\"outlined\"\n      variant=\"inline\"\n      format=\"dd/MM/yyyy\"\n      margin=\"normal\"\n      label={label}\n      onChange={(value) => {\n        setFieldValue(name, value);\n\n        if (onTouch) {\n          onTouch(true);\n        }\n\n        if (validator) {\n          validator(name);\n        }\n      }}\n      KeyboardButtonProps={{\n        \"aria-label\": \"change date\",\n      }}\n    />\n  );\n}\n\nexport default DatePicker;\n","import {TextField, withStyles} from \"@material-ui/core\";\nimport {useFormikContext} from \"formik\";\nimport React from \"react\";\n\nconst CustomTextField = withStyles({\n  root: {\n    \"& .MuiInputLabel-marginDense\": {\n      transform: \"translate(14px, 9px) scale(1)\",\n    },\n\n    \"& .MuiInputLabel-shrink\": {\n      transform: \"translate(14px, -4px) scale(0.75)\",\n    },\n  },\n})(TextField);\n\nconst DependentInput = ({name, label, field, error, validator, value, ...props}) => {\n  const {onChange} = field;\n  const {\n    values: {payment},\n    setFieldValue,\n  } = useFormikContext();\n\n  React.useEffect(() => {\n    if (payment.paymentType) {\n      setFieldValue(\"payment.percentage\", payment.paymentType?.paymentPercentage);\n    } else {\n      setFieldValue(\"payment.percentage\", 0);\n    }\n  }, [payment.paymentType, setFieldValue]);\n\n  return (\n    <CustomTextField\n      {...props}\n      {...field}\n      error={!!error}\n      id=\"metrics\"\n      size=\"small\"\n      variant=\"outlined\"\n      autoComplete=\"off\"\n      label={label}\n      onChange={(e) => {\n        if (e.target.value.match(/^\\d*\\.?\\d*$/) || e.target.value.length === 0) {\n          setFieldValue(\"payment.percentage\", e.target.value);\n          onChange(e);\n        }\n        validator(name);\n      }}\n    />\n  );\n};\n\nexport default DependentInput;\n","import Axios, {CancelToken} from \"axios\";\n\nexport const fetchCustomers = async (roles) => {\n  if (roles.includes(\"ROLE_CUSTOMER\")) return [];\n  const source = CancelToken.source();\n  const res = await Axios.get(\"/api/customers/\", {\n    cancelToken: source.token,\n  });\n  res.cancel = () => source.cancel(\"Query was cancelled by React Query\");\n  return res.data;\n};\n\nexport const fetchEntrepreneurs = async (roles) => {\n  if (roles.includes(\"ROLE_CUSTOMER\")) return [];\n  const res = await Axios.get(\"/api/entrepreneurs/\");\n  return res.data;\n};\n\nexport const fetchUsers = async (roles) => {\n  if (roles.includes(\"ROLE_CUSTOMER\")) return [];\n  const res = await Axios.get(\"/api/users/\");\n  return res.data;\n};\n\nexport const fetchOrderTypes = async (roles) => {\n  if (roles.includes(\"ROLE_CUSTOMER\")) return [];\n  const res = await Axios.get(\"/api/order-types/\");\n  return res.data;\n};\n\nexport const fetchOrderKinds = async (roles) => {\n  if (roles.includes(\"ROLE_CUSTOMER\")) return [];\n  const res = await Axios.get(\"/api/order-kinds/\");\n  return res.data;\n};\n\nexport const fetchStatuses = async (roles) => {\n  if (roles.includes(\"ROLE_CUSTOMER\")) return [];\n  const res = await Axios.get(\"/api/statuses/\");\n  return res.data;\n};\n\nexport const fetchEmployees = async (roles) => {\n  if (roles.includes(\"ROLE_CUSTOMER\")) return [];\n  const res = await Axios.get(\"/api/employees/\");\n  return res.data;\n};\n\nexport const fetchDebtors = async (roles) => {\n  if (roles.includes(\"ROLE_CUSTOMER\")) return [];\n  const res = await Axios.get(\"/api/customers/debtors/\");\n  return res.data;\n};\n\nexport const fetchPaymentMethods = async () => {\n  const res = await Axios.get(\"/api/payments/\");\n  return res.data;\n};\n\nexport const fetchCELinks = async (roles) => {\n  if (roles.includes(\"ROLE_CUSTOMER\")) return [];\n  const source = CancelToken.source();\n  const res = await Axios.get(\"/api/ce-links/\", {\n    cancelToken: source.token,\n  });\n  res.cancel = () => source.cancel(\"Query was cancelled by React Query\");\n  return res.data;\n};\n\nexport const fetchCPLinks = async (roles) => {\n  if (roles.includes(\"ROLE_CUSTOMER\")) return [];\n  const source = CancelToken.source();\n  const res = await Axios.get(\"/api/cp-links/\", {\n    cancelToken: source.token,\n  });\n  res.cancel = () => source.cancel(\"Query was cancelled by React Query\");\n  return res.data;\n};\n","import {useQuery} from \"react-query\";\nimport * as DataService from \"../services/customer-service\";\n\nexport default function usePaymentMethods() {\n  return useQuery(\"paymentMethods\", DataService.fetchPaymentMethods, {\n    initialData: [],\n    initialStale: true,\n    keepPreviousData: true,\n  });\n}\n","import {Button} from \"@material-ui/core\";\nimport {makeStyles} from \"@material-ui/core/styles\";\nimport {LinkOutlined} from \"@material-ui/icons\";\nimport {Field, Form, Formik} from \"formik\";\nimport React from \"react\";\nimport {useQueryClient} from \"react-query\";\nimport * as yup from \"yup\";\nimport ComboBox from \"./ComboBox\";\nimport {UPDATE_SORTING} from \"./context/actions\";\nimport store from \"./context/store\";\nimport {useSelector} from \"react-redux\";\nimport DatePicker from \"./DatePicker\";\nimport DependentInput from \"./DependentInput\";\nimport useMakePayment from \"./hooks/useMakePayment\";\nimport usePaymentMethods from \"./hooks/usePaymentMethods\";\nimport useUpdatePaymentMethod from \"./hooks/useUpdatePaymentMethod\";\nimport InfoMessage from \"./InfoMessage\";\nimport InputField from \"./InputField\";\nimport RefreshIcon from \"@material-ui/icons/Refresh\";\nimport {EmptySort} from \"./models/SortObject\";\nimport {setCurrentTime} from \"./services/utils\";\n\nconst useStyles = makeStyles(() => ({\n  root: {\n    display: \"flex\",\n    flexWrap: \"wrap\",\n    borderRadius: 4,\n    backgroundColor: \"white\",\n    margin: \"0 auto\",\n    width: \"52%\",\n  },\n  row__one: {\n    display: \"grid\",\n    gridColumnGap: \"20px\",\n    gridTemplateColumns: \"2fr 1fr\",\n    margin: \".5rem auto 1rem auto\",\n  },\n  row__two: {\n    display: \"grid\",\n    gridColumnGap: \"20px\",\n    gridTemplateRows: \"1fr\",\n    gridTemplateColumns: \"1fr 1fr 0.05fr 1fr 1fr\",\n    margin: \"1rem auto\",\n\n    \"& .MuiOutlinedInput-input\": {\n      padding: \"8px 8px\",\n    },\n  },\n  button: {\n    gridColumn: 2,\n    width: \"16rem\",\n    height: \"2.375rem\",\n    justifySelf: \"center\",\n  },\n  clear: {\n    backgroundColor: \"#fff\",\n    minWidth: 0,\n    justifySelf: \"flex-end\",\n    margin: \"0px 0px 1px 0\",\n    width: \"2.4rem\",\n  },\n  lock: {\n    padding: 0,\n    width: \"100%\",\n    backgroundColor: \"white !important\",\n    minWidth: 0,\n\n    \"&:hover\": {\n      backgroundColor: \"white\",\n    },\n  },\n  svg: {\n    fill: \"rgba(0, 0, 0, 0.23)\",\n\n    \"&:hover\": {\n      fill: \"black\",\n    },\n  },\n  successInfo: {\n    display: \"flex\",\n  },\n  successText: {\n    margin: \"auto .5rem\",\n    color: \"#27A637\",\n  },\n  errorInfo: {\n    display: \"flex\",\n  },\n  errorText: {\n    margin: \"auto .5rem\",\n    color: \"#d2000a\",\n  },\n  errorSvg: {\n    fontSize: \"2.54rem\",\n    fill: \"#d2000a\",\n  },\n  successSvg: {\n    fontSize: \"2.54rem\",\n    fill: \"#27A637\",\n  },\n}));\n\nconst validationSchema = yup.object({\n  payment: yup.object({\n    entrepreneur: yup.object().nullable(),\n    customer: yup.object().required(),\n    paymentDate: yup.date().required(),\n    sum: yup.number().lessThan(2000000000).positive().required(),\n    percentage: yup.number().lessThan(2000000000).positive().min(0).required(),\n    paymentType: yup.object().required(),\n  }),\n});\n\nfunction PaymentForm() {\n  const classes = useStyles();\n  const queryClient = useQueryClient();\n  const makePaymentQuery = useMakePayment();\n  const paymentMethods = usePaymentMethods();\n  const sortState = useSelector((state) => state.sortSelections);\n  const updatePaymentMethodQuery = useUpdatePaymentMethod();\n  const [showPaymentInfo, setShowPaymentInfo] = React.useState({\n    success: false,\n    error: false,\n  });\n  const [showPercentageLinkInfo, setShowPercentageLinkInfo] = React.useState({\n    success: false,\n    error: false,\n  });\n\n  const handleClose = () => {\n    setShowPaymentInfo({success: false, error: false});\n    setShowPercentageLinkInfo({success: false, error: false});\n  };\n\n  const linkPercentage = (paymentMethod, percentage) => {\n    paymentMethod.paymentPercentage = percentage;\n    updatePaymentMethodQuery.mutate({\n      paymentMethod: paymentMethod,\n      setStatus: setShowPercentageLinkInfo,\n    });\n  };\n\n  const clearAndUnsort = (setFieldValue) => {\n    queryClient.invalidateQueries(\"customers\");\n    store.dispatch(UPDATE_SORTING({...EmptySort}, \"payment\"));\n    setFieldValue(\"payment.customer\", null);\n    setFieldValue(\"payment.entrepreneur\", null);\n    setFieldValue(\"payment.paymentDate\", new Date());\n    setFieldValue(\"payment.paymentType\", null);\n    setFieldValue(\"payment.percentage\", 0);\n    setFieldValue(\"payment.sum\", null);\n  };\n\n  return (\n    <div className={classes.root}>\n      <Formik\n        validateOnChange={false}\n        validateOnMount={false}\n        validateOnBlur={false}\n        initialValues={{payment: {...sortState.payment, paymentDate: new Date()}}}\n        validationSchema={validationSchema}\n        onSubmit={(form) => {\n          setCurrentTime(form.payment.paymentDate);\n          form.payment.receiver = form.payment.paymentType.typeName;\n          makePaymentQuery.mutate({\n            payment: form.payment,\n            setStatus: setShowPaymentInfo,\n          });\n        }}\n      >\n        {({values, errors, validateField, setFieldValue}) => (\n          <Form style={{margin: \"0 auto\"}}>\n            <div className={classes.row__one}>\n              <Field\n                name=\"payment.customer\"\n                label=\"Замовник\"\n                error={errors?.payment?.customer}\n                component={ComboBox}\n                validator={validateField}\n                sortKey=\"customer\"\n                sortPage=\"payment\"\n                disabled={makePaymentQuery.isLoading}\n                getName={(option) => option.customerName || \"\"}\n                options={queryClient.getQueryData(\"customers\") || []}\n              />\n              <Field\n                name=\"payment.entrepreneur\"\n                label=\"Підприємець\"\n                error={errors?.payment?.entrepreneur}\n                validator={validateField}\n                component={ComboBox}\n                sortKey=\"entrepreneur\"\n                sortPage=\"payment\"\n                disabled={makePaymentQuery.isLoading}\n                getName={(option) => option.fullName || \"\"}\n                options={queryClient.getQueryData(\"entrepreneurs\") || []}\n              />\n            </div>\n\n            <div className={classes.row__two}>\n              <Field\n                component={DatePicker}\n                label=\"Дата\"\n                name=\"payment.paymentDate\"\n                validator={validateField}\n                disabled={makePaymentQuery.isLoading}\n              />\n\n              <Field\n                name=\"payment.paymentType\"\n                label=\"Тип оплати\"\n                error={errors?.payment?.paymentType}\n                component={ComboBox}\n                validator={validateField}\n                disabled={makePaymentQuery.isLoading}\n                getName={(option) => option.typeName || \"\"}\n                options={paymentMethods?.data || []}\n              />\n              <Button\n                className={classes.lock}\n                disableRipple={true}\n                onClick={() =>\n                  linkPercentage(values.payment.paymentType, values.payment.percentage)\n                }\n              >\n                <LinkOutlined className={classes.svg} />\n              </Button>\n              <Field\n                name=\"payment.percentage\"\n                label=\"Відсоток\"\n                error={errors?.payment?.percentage}\n                validator={validateField}\n                component={DependentInput}\n                disabled={makePaymentQuery.isLoading}\n              />\n              <Field\n                name=\"payment.sum\"\n                label=\"Сума\"\n                error={errors?.payment?.sum}\n                validator={validateField}\n                component={InputField}\n                disabled={makePaymentQuery.isLoading}\n              />\n            </div>\n\n            <div className=\"sort__row__three\">\n              <Button\n                color=\"primary\"\n                variant=\"contained\"\n                disabled={makePaymentQuery.isLoading}\n                className={classes.button}\n                type=\"submit\"\n              >\n                Оплатити\n              </Button>\n\n              <Button\n                className={classes.clear}\n                onClick={(e) => clearAndUnsort(setFieldValue)}\n                disabled={makePaymentQuery.isLoading}\n                variant=\"contained\"\n                type=\"button\"\n              >\n                <RefreshIcon></RefreshIcon>\n              </Button>\n            </div>\n          </Form>\n        )}\n      </Formik>\n      <InfoMessage\n        type=\"success\"\n        open={showPaymentInfo.success}\n        onClose={handleClose}\n        message=\"Оплата успішно внесена.\"\n      />\n      <InfoMessage\n        type=\"error\"\n        open={showPaymentInfo.error}\n        onClose={handleClose}\n        message=\"Помилка при внесенні оплати.\"\n      />\n      <InfoMessage\n        type=\"success\"\n        open={showPercentageLinkInfo.success}\n        onClose={handleClose}\n        message=\"Зв'язок успішно збережений.\"\n      />\n      <InfoMessage\n        type=\"error\"\n        open={showPercentageLinkInfo.error}\n        onClose={handleClose}\n        message=\"Помилка при збереженні зв'язку.\"\n      />\n    </div>\n  );\n}\n\nexport default PaymentForm;\n","import Axios from \"axios\";\nimport {useMutation, useQueryClient} from \"react-query\";\n\nexport default function useMakePayment() {\n  const queryClient = useQueryClient();\n  return useMutation((params) => Axios.post(\"/api/payments/\", params.payment), {\n    onError: (_, params) => {\n      params.setStatus({success: false, error: true});\n    },\n    onSuccess: (_, params) => {\n      params.setStatus({success: true, error: false});\n      queryClient.invalidateQueries([\"customers\"]);\n      queryClient.invalidateQueries([\"orders\"]);\n      params.payment.sum = 0;\n    },\n  });\n}\n","import Axios from \"axios\";\nimport {useMutation, useQueryClient} from \"react-query\";\n\nexport default function useUpdatePaymentMethod() {\n  const queryClient = useQueryClient();\n  return useMutation(\n    (params) => Axios.put(\"/api/payments/types/\", params.paymentMethod),\n    {\n      onSuccess: (_, passedParams) => {\n        queryClient.invalidateQueries(\"paymentMethods\");\n        passedParams.setStatus({success: true, error: false});\n      },\n      onError: (_, passedParams) => {\n        passedParams.setStatus({success: false, error: true});\n      },\n    }\n  );\n}\n","import {Button} from \"@material-ui/core\";\nimport {makeStyles} from \"@material-ui/core/styles\";\nimport RefreshIcon from \"@material-ui/icons/Refresh\";\nimport {Field, Form, Formik} from \"formik\";\nimport React, {useEffect} from \"react\";\nimport {useQueryClient} from \"react-query\";\nimport {useDispatch, useSelector} from \"react-redux\";\nimport * as yup from \"yup\";\nimport ComboBox from \"./ComboBox\";\nimport {SET_ACTIVE_SORTING, UPDATE_SORTING} from \"./context/actions\";\nimport DatePicker from \"./DatePicker\";\nimport InputField from \"./InputField\";\nimport {EmptySort} from \"./models/SortObject\";\nimport \"./SortForm.css\";\nimport SwitchControl from \"./SwitchControl\";\n\nconst useStyles = makeStyles(() => ({\n  root: {\n    display: \"flex\",\n    flexWrap: \"wrap\",\n    borderRadius: 4,\n    backgroundColor: \"white\",\n    margin: \"0 auto\",\n    width: \"52%\",\n  },\n  button: {\n    width: \"16rem\",\n    justifySelf: \"center\",\n  },\n  clear: {\n    backgroundColor: \"#fff\",\n    minWidth: 0,\n    justifySelf: \"flex-end\",\n    margin: \"0px 0px 1px 0\",\n    width: \"2.4rem\",\n  },\n}));\n\nconst validationSchema = yup.object({\n  sort: yup.object({\n    customer: yup.object().nullable(),\n    status: yup.object().nullable(),\n    dateFrom: yup.date().nullable(),\n    dateTill: yup.date().nullable(),\n    orderKind: yup.object().nullable(),\n    orderType: yup.object().nullable(),\n    details: yup.string().trim().max(255).nullable(),\n  }),\n});\n\nfunction SortForm() {\n  const classes = useStyles();\n  const dispatch = useDispatch();\n  const queryClient = useQueryClient();\n  const authState = useSelector((state) => state.auth);\n  const sortState = useSelector((state) => state.sortSelections);\n\n  useEffect(() => {\n    if (sortState.active === \"sort\") return;\n    dispatch(SET_ACTIVE_SORTING(\"sort\"));\n    // eslint-disable-next-line\n  }, []);\n\n  const clearAndUnsort = (setFieldValue) => {\n    dispatch(UPDATE_SORTING({...EmptySort}, \"sort\"));\n    setFieldValue(\"sort.customer\", null);\n    setFieldValue(\"sort.orderType\", null);\n    setFieldValue(\"sort.orderKind\", null);\n    setFieldValue(\"sort.dateFrom\", null);\n    setFieldValue(\"sort.dateTill\", null);\n    setFieldValue(\"sort.status\", null);\n    setFieldValue(\"sort.details\", \"\");\n    setFieldValue(\"showUserOrders\", false);\n    queryClient.invalidateQueries(\"customers\");\n  };\n\n  return (\n    <div className={classes.root}>\n      <Formik\n        validateOnChange={false}\n        validateOnMount={false}\n        validateOnBlur={false}\n        initialValues={{sort: sortState.sort, showUserOrders: false}}\n        onSubmit={(form) => {\n          form.showUserOrders\n            ? (form.sort.employee = authState.loggedUser)\n            : (form.sort.employee = null);\n          form.sort.details = form.sort.details.trim();\n          dispatch(UPDATE_SORTING(form.sort, \"sort\"));\n        }}\n        validationSchema={validationSchema}\n      >\n        {({values, errors, validateField, setFieldValue}) => (\n          <Form>\n            <div className=\"sort__row__one\">\n              <Field\n                name=\"sort.customer\"\n                label=\"Замовник\"\n                error={errors?.sort?.customer}\n                component={ComboBox}\n                validator={validateField}\n                getName={(option) => option.customerName || \"\"}\n                options={queryClient.getQueryData(\"customers\") || []}\n              />\n              <Field\n                name=\"sort.orderType\"\n                label=\"Вид\"\n                error={errors?.sort?.orderType}\n                component={ComboBox}\n                validator={validateField}\n                getName={(option) => option.typeName || \"\"}\n                options={queryClient.getQueryData(\"orderTypes\") || []}\n              />\n              <Field\n                name=\"sort.orderKind\"\n                label=\"Тип\"\n                error={errors?.sort?.orderKind}\n                component={ComboBox}\n                validator={validateField}\n                getName={(option) => option.kindName || \"\"}\n                options={\n                  (values.sort?.orderType?.typeName === \"CTP\"\n                    ? values.sort?.orderType?.orderKinds.sort((a, b) =>\n                        parseInt(a.kindName.substring(0, a.kindName.indexOf(\"х\")), 10) >\n                        parseInt(b.kindName.substring(0, b.kindName.indexOf(\"х\")), 10)\n                          ? 1\n                          : -1\n                      ) || []\n                    : values.sort?.orderType?.orderKinds) || []\n                }\n              />\n            </div>\n\n            <div className=\"sort__row__two\">\n              <div className=\"datepickers\">\n                <Field\n                  component={DatePicker}\n                  disabled={false}\n                  label=\"Від\"\n                  name=\"sort.dateFrom\"\n                />\n                <Field\n                  component={DatePicker}\n                  disabled={false}\n                  label=\"До\"\n                  name=\"sort.dateTill\"\n                />\n              </div>\n              <Field\n                name=\"sort.status\"\n                label=\"Статус\"\n                error={errors?.sort?.status}\n                component={ComboBox}\n                validator={validateField}\n                getName={(option) => option.name || \"\"}\n                options={queryClient.getQueryData(\"statuses\") || []}\n              />\n              <Field\n                name=\"sort.details\"\n                label=\"Опис замовлення\"\n                error={errors?.sort?.details}\n                numeric={false}\n                component={InputField}\n                validator={validateField}\n              />\n            </div>\n\n            <div className=\"sort__row__three\">\n              <SwitchControl\n                name=\"showUserOrders\"\n                isChecked={values.showUserOrders}\n                label=\"Лише мої замовлення\"\n              />\n\n              <Button\n                color=\"primary\"\n                variant=\"contained\"\n                className={classes.button}\n                type=\"submit\"\n              >\n                Сортувати\n              </Button>\n\n              <Button\n                className={classes.clear}\n                onClick={(e) => clearAndUnsort(setFieldValue)}\n                variant=\"contained\"\n                type=\"button\"\n              >\n                <RefreshIcon></RefreshIcon>\n              </Button>\n            </div>\n          </Form>\n        )}\n      </Formik>\n    </div>\n  );\n}\n\nexport default SortForm;\n","import {Button, Collapse, Typography} from \"@material-ui/core\";\nimport React from \"react\";\nimport {useDispatch, useSelector} from \"react-redux\";\nimport \"./ActionBar.css\";\nimport AddOrderForm from \"./AddOrderForm\";\nimport {SET_ACTIVE_SORTING, SET_MAIN_TAB} from \"./context/actions\";\nimport PaymentForm from \"./PaymentForm\";\nimport SortForm from \"./SortForm\";\n\nexport default function ActionBar() {\n  const dispatch = useDispatch();\n  const authState = useSelector((store) => store.auth);\n  const sortState = useSelector((state) => state.sortSelections);\n\n  const open = (tabId) => {\n    if (sortState.mainTab === tabId) {\n      dispatch(SET_MAIN_TAB(0));\n    } else {\n      dispatch(SET_MAIN_TAB(tabId));\n    }\n  };\n\n  const hideFor = (roles) => !roles.some((role) => authState.roles.includes(role));\n\n  const setSortView = (type) => {\n    if (sortState.active === type) return;\n    dispatch(SET_ACTIVE_SORTING(type));\n  };\n\n  const showCustomerInfo = () => {\n    if (!sortState[sortState.active].customer) return;\n    return (\n      <Typography variant=\"subtitle1\">\n        {sortState[sortState.active].customer?.debtor && (\n          <img\n            className=\"debtor-mark\"\n            src=\"img/Blackmark.svg\"\n            width=\"19\"\n            height=\"19\"\n            alt=\"blackmark\"\n          />\n        )}\n        <strong>{sortState[sortState.active].customer?.customerName}</strong>{\" \"}\n        {sortState[sortState.active].customer?.customerGroup}:{\" \"}\n        {sortState[sortState.active].customer?.info}\n      </Typography>\n    );\n  };\n\n  return (\n    <div>\n      <div className=\"action_bar_container\">\n        <div className=\"action__bar\">\n          <div className=\"action__bar__info\">{showCustomerInfo()}</div>\n          <div className=\"action__bar__button\">\n            {hideFor([\"ROLE_GROUNDFLOOR\", \"ROLE_UVPRINT\", \"ROLE_CUSTOMER\"]) && (\n              <Button\n                variant=\"contained\"\n                color={sortState.mainTab === 1 ? \"\" : \"primary\"}\n                onClick={() => open(1)}\n              >\n                Додати замовлення\n              </Button>\n            )}\n            {hideFor([\"ROLE_CUSTOMER\"]) && (\n              <Button\n                style={{marginLeft: \".5rem\"}}\n                variant=\"contained\"\n                color={sortState.mainTab === 2 ? \"\" : \"primary\"}\n                onClick={() => open(2)}\n              >\n                Сортування\n              </Button>\n            )}\n            {hideFor([\"ROLE_GROUNDFLOOR\", \"ROLE_UVPRINT\", \"ROLE_CUSTOMER\"]) && (\n              <Button\n                style={{marginLeft: \".5rem\"}}\n                variant=\"contained\"\n                color={sortState.mainTab === 3 ? \"\" : \"primary\"}\n                onClick={() => open(3)}\n              >\n                Внести оплату\n              </Button>\n            )}\n          </div>\n        </div>\n\n        <Collapse\n          in={sortState.mainTab === 1}\n          timeout={300}\n          onEntered={() => setSortView(\"main\")}\n          unmountOnExit\n        >\n          <AddOrderForm />\n        </Collapse>\n\n        <Collapse\n          in={sortState.mainTab === 2}\n          timeout={300}\n          onEntered={() => setSortView(\"sort\")}\n          unmountOnExit\n        >\n          <SortForm />\n        </Collapse>\n\n        <Collapse\n          in={sortState.mainTab === 3}\n          timeout={300}\n          onEntered={() => setSortView(\"payment\")}\n          unmountOnExit\n        >\n          <PaymentForm />\n        </Collapse>\n      </div>\n    </div>\n  );\n}\n","import {Button} from \"@material-ui/core\";\nimport {makeStyles} from \"@material-ui/core/styles\";\nimport RefreshIcon from \"@material-ui/icons/Refresh\";\nimport {Field, Form, Formik} from \"formik\";\nimport React from \"react\";\nimport {useQueryClient} from \"react-query\";\nimport {useDispatch} from \"react-redux\";\nimport * as yup from \"yup\";\nimport ComboBox from \"./ComboBox\";\nimport {useSelector} from \"react-redux\";\nimport {UPDATE_SORTING} from \"./context/actions\";\nimport DatePicker from \"./DatePicker\";\nimport usePaymentMethods from \"./hooks/usePaymentMethods\";\nimport {EmptyFilter} from \"./models/FilterObject\";\nimport \"./SortForm.css\";\n\nconst useStyles = makeStyles(() => ({\n  root: {\n    display: \"flex\",\n    flexWrap: \"wrap\",\n    borderRadius: 4,\n    backgroundColor: \"white\",\n    margin: \"0 auto\",\n    width: \"60%\",\n  },\n  row: {\n    gridTemplateColumns: \"1fr 1fr 1fr 1fr 1fr\",\n  },\n  button: {\n    width: \"16rem\",\n    justifySelf: \"center\",\n    gridColumn: 2,\n  },\n  clear: {\n    backgroundColor: \"#fff\",\n    minWidth: 0,\n    justifySelf: \"flex-end\",\n    margin: \"0px 0px 1px 0\",\n    width: \"2.4rem\",\n  },\n}));\n\nconst validationSchema = yup.object({\n  sort: yup.object({\n    entrepreneur: yup.object().nullable(),\n    customer: yup.object().nullable(),\n    // status: yup.object().nullable(),\n    employee: yup.object().nullable(),\n    dateFrom: yup.date().nullable(),\n    dateTill: yup.date().nullable(),\n    orderKind: yup.object().nullable(),\n    orderType: yup.object().nullable(),\n    details: yup.string().trim().max(255).nullable(),\n    receiver: yup.string().trim().max(255).nullable(),\n  }),\n});\n\nfunction SortForm() {\n  const classes = useStyles();\n  const dispatch = useDispatch();\n  const queryClient = useQueryClient();\n  const paymentMethods = usePaymentMethods();\n  const sortState = useSelector((state) => state.sortSelections);\n\n  const clearAndUnsort = (setFieldValue) => {\n    dispatch(UPDATE_SORTING({...EmptyFilter}, \"filter\"));\n    setFieldValue(\"sort.customer\", null);\n    setFieldValue(\"sort.orderType\", null);\n    setFieldValue(\"sort.orderKind\", null);\n    setFieldValue(\"sort.dateFrom\", null);\n    setFieldValue(\"sort.dateTill\", null);\n    setFieldValue(\"sort.payDateFrom\", null);\n    setFieldValue(\"sort.payDateTill\", null);\n    setFieldValue(\"sort.status\", null);\n    setFieldValue(\"sort.employee\", null);\n    setFieldValue(\"sort.receiver\", \"\");\n    setFieldValue(\"sort.details\", \"\");\n    setFieldValue(\"showUserOrders\", false);\n    queryClient.invalidateQueries(\"customers\");\n  };\n\n  return (\n    <div className={classes.root}>\n      <Formik\n        validateOnChange={false}\n        validateOnMount={false}\n        validateOnBlur={false}\n        initialValues={{sort: sortState.filter}}\n        onSubmit={(form) => dispatch(UPDATE_SORTING(form.sort, \"filter\"))}\n        validationSchema={validationSchema}\n      >\n        {({values, errors, validateField, setFieldValue}) => (\n          <Form>\n            <div className={`${classes.row} sort__row__one`}>\n              <Field\n                name=\"sort.customer\"\n                label=\"Замовник\"\n                error={errors?.sort?.customer}\n                component={ComboBox}\n                validator={validateField}\n                getName={(option) => option.customerName || \"\"}\n                options={queryClient.getQueryData(\"customers\") || []}\n              />\n              <Field\n                name=\"sort.entrepreneur\"\n                label=\"Підприємець\"\n                error={errors?.sort?.entrepreneur}\n                component={ComboBox}\n                validator={validateField}\n                getName={(option) => option.fullName || \"\"}\n                options={queryClient.getQueryData(\"entrepreneurs\") || []}\n              />\n              <Field\n                name=\"sort.orderType\"\n                label=\"Вид\"\n                error={errors?.sort?.orderType}\n                component={ComboBox}\n                validator={validateField}\n                getName={(option) => option.typeName || \"\"}\n                options={queryClient.getQueryData(\"orderTypes\") || []}\n              />\n              <Field\n                name=\"sort.orderKind\"\n                label=\"Тип\"\n                error={errors?.sort?.orderKind}\n                component={ComboBox}\n                validator={validateField}\n                getName={(option) => option.kindName || \"\"}\n                options={\n                  (values.sort.orderType?.typeName === \"CTP\"\n                    ? values.sort.orderType?.orderKinds.sort((a, b) =>\n                        parseInt(a.kindName.substring(0, a.kindName.indexOf(\"х\")), 10) >\n                        parseInt(b.kindName.substring(0, b.kindName.indexOf(\"х\")), 10)\n                          ? 1\n                          : -1\n                      ) || []\n                    : values.sort.orderType?.orderKinds) || []\n                }\n              />\n              <Field\n                name=\"sort.receiver\"\n                label=\"Отримувач\"\n                error={errors?.sort?.receiver}\n                component={ComboBox}\n                validator={validateField}\n                options={\n                  queryClient\n                    .getQueryData(\"employees\")\n                    ?.map((employee) => employee.name)\n                    .concat(paymentMethods?.data.map((method) => method.typeName))\n                    .filter(\n                      (method) => ![\"Готівка\", \"Автоматично\", \"Роман\"].includes(method)\n                    ) || []\n                }\n              />\n            </div>\n\n            <div className={`${classes.row} sort__row__two`}>\n              <Field\n                component={DatePicker}\n                disabled={false}\n                label=\"Від\"\n                name=\"sort.dateFrom\"\n              />\n              <Field component={DatePicker} disabled={false} label=\"До\" name=\"sort.dateTill\" />\n\n              <Field\n                component={DatePicker}\n                disabled={false}\n                label=\"Оплата від\"\n                name=\"sort.payDateFrom\"\n              />\n              <Field\n                component={DatePicker}\n                disabled={false}\n                label=\"Оплата до\"\n                name=\"sort.payDateTill\"\n              />\n              {/* <Field\n                name=\"sort.status\"\n                label=\"Статус\"\n                error={errors?.sort?.status}\n                component={ComboBox}\n                validator={validateField}\n                getName={(option) => option.name || \"\"}\n                options={queryClient.getQueryData(\"statuses\") || []}\n              /> */}\n\n              <Field\n                name=\"sort.employee\"\n                label=\"Оператор\"\n                error={errors?.sort?.employee}\n                component={ComboBox}\n                validator={validateField}\n                getName={(option) => option.name || \"\"}\n                options={queryClient.getQueryData(\"employees\") || []}\n              />\n            </div>\n\n            <div className=\"sort__row__three\">\n              <Button\n                color=\"primary\"\n                variant=\"contained\"\n                className={classes.button}\n                type=\"submit\"\n              >\n                Сортувати\n              </Button>\n\n              <Button\n                className={classes.clear}\n                onClick={(e) => clearAndUnsort(setFieldValue)}\n                variant=\"contained\"\n                type=\"button\"\n              >\n                <RefreshIcon></RefreshIcon>\n              </Button>\n            </div>\n          </Form>\n        )}\n      </Formik>\n    </div>\n  );\n}\n\nexport default SortForm;\n","import {Button, Collapse} from \"@material-ui/core\";\nimport React from \"react\";\nimport {useDispatch, useSelector} from \"react-redux\";\nimport \"./ActionBar.css\";\nimport {SET_ACTIVE_SORTING, SET_FILTER_OPENED, SET_FILTER_CLOSED} from \"./context/actions\";\nimport FilterForm from \"./FilterForm\";\n\nexport default function SortActionBar() {\n  const dispatch = useDispatch();\n  const sortState = useSelector((state) => state.sortSelections);\n\n  const toggle = () =>\n    sortState.filterTab ? dispatch(SET_FILTER_CLOSED()) : dispatch(SET_FILTER_OPENED());\n\n  const setSortView = (type) => {\n    if (sortState.active === type) return;\n    dispatch(SET_ACTIVE_SORTING(type));\n  };\n\n  return (\n    <div>\n      <div className=\"action_bar_container\">\n        <div className=\"action__bar\">\n          <div className=\"action__bar__info\"></div>\n          <div className=\"action__bar__button\">\n            <Button\n              style={{marginLeft: \".5rem\"}}\n              variant=\"contained\"\n              color={sortState.filterTab ? \"\" : \"primary\"}\n              onClick={toggle}\n            >\n              Сортування\n            </Button>\n          </div>\n        </div>\n\n        <Collapse\n          in={sortState.filterTab}\n          timeout={300}\n          onEntered={() => setSortView(\"filter\")}\n          unmountOnExit\n        >\n          <FilterForm />\n        </Collapse>\n      </div>\n    </div>\n  );\n}\n","import {Button} from \"@material-ui/core\";\nimport {makeStyles} from \"@material-ui/core/styles\";\nimport {Field, Form, Formik} from \"formik\";\nimport React from \"react\";\nimport {useQueryClient} from \"react-query\";\nimport * as yup from \"yup\";\nimport \"./ActionBar.css\";\nimport ComboBox from \"./ComboBox\";\nimport InfoMessage from \"./InfoMessage\";\nimport useAssignCustomer from \"./hooks/useAssignCustomer\";\n\nconst useStyles = makeStyles(() => ({\n  root: {\n    backgroundColor: \"white\",\n    padding: 20,\n  },\n  row: {\n    display: \"grid\",\n    width: \"45%\",\n    gridTemplateColumns: \"1fr 1fr\",\n    gridTemplateRows: \"1fr 1fr\",\n    gap: \"10px 20px\",\n    margin: \"0 auto\",\n  },\n  submit: {\n    width: \"30%\",\n    gridColumn: \"1/3\",\n    margin: \"0 auto\",\n  },\n}));\n\nconst validationSchema = yup.object({\n  user: yup.object().nullable(),\n  customer: yup.object().nullable(),\n});\n\nexport default function SortActionBar() {\n  const classes = useStyles();\n  const queryClient = useQueryClient();\n  const assignCustomer = useAssignCustomer();\n  const [showAssignmentResult, setShowAssignmentResult] = React.useState({\n    success: false,\n    error: false,\n  });\n\n  const handleClose = () => {\n    setShowAssignmentResult({success: false, error: false});\n  };\n\n  return (\n    <div className={classes.root}>\n      <Formik\n        validateOnChange={false}\n        validateOnMount={false}\n        validateOnBlur={false}\n        initialValues={{user: null, customer: null}}\n        onSubmit={(form, actions) =>\n          assignCustomer.mutate({\n            form: form,\n            setStatus: setShowAssignmentResult,\n            resetForm: actions.resetForm,\n          })\n        }\n        validationSchema={validationSchema}\n      >\n        {({errors, validateField}) => (\n          <Form>\n            <div className={classes.row}>\n              <Field\n                name=\"user\"\n                label=\"Користувач\"\n                error={errors?.user}\n                component={ComboBox}\n                validator={validateField}\n                getName={(option) => option.fullName || \"\"}\n                options={queryClient.getQueryData(\"users\") || []}\n              />\n              <Field\n                name=\"customer\"\n                label=\"Замовник\"\n                error={errors?.customer}\n                component={ComboBox}\n                validator={validateField}\n                getName={(option) => option.customerName || \"\"}\n                options={queryClient.getQueryData(\"customers\") || []}\n              />\n\n              <Button\n                className={classes.submit}\n                color=\"primary\"\n                variant=\"contained\"\n                type=\"submit\"\n              >\n                Зберегти\n              </Button>\n            </div>\n          </Form>\n        )}\n      </Formik>\n      <InfoMessage\n        type=\"success\"\n        open={showAssignmentResult.success}\n        onClose={handleClose}\n        message=\"Зв'язок успішно збережений.\"\n      />\n      <InfoMessage\n        type=\"error\"\n        open={showAssignmentResult.error}\n        onClose={handleClose}\n        message=\"Помилка при збереженні зв'язку.\"\n      />\n    </div>\n  );\n}\n","import Axios from \"axios\";\nimport {useMutation, useQueryClient} from \"react-query\";\n\nexport default function useAssignCustomer() {\n  const queryClient = useQueryClient();\n  return useMutation(\n    (params) =>\n      Axios.get(\"/api/users/\" + params.form.user.id + \"/\" + params.form.customer.customerId),\n    {\n      onSuccess: (_, passedParams) => {\n        queryClient.invalidateQueries(\"users\");\n        passedParams.resetForm();\n        passedParams.setStatus({success: true, error: false});\n      },\n      onError: (_, passedParams) => {\n        passedParams.setStatus({success: false, error: true});\n      },\n    }\n  );\n}\n","import {Button, Link, TextField} from \"@material-ui/core\";\nimport {XGrid} from \"@material-ui/x-grid\";\nimport React, {useState} from \"react\";\nimport {useQueryClient} from \"react-query\";\nimport {useSelector} from \"react-redux\";\nimport \"./ClientTable.css\";\nimport {SHOW_CUSTOMER_MODAL} from \"./context/actions\";\nimport store from \"./context/store\";\nimport useExportCustomers from \"./hooks/useExportCustomers\";\nimport {fixCustomers} from \"./services/utils\";\n\nconst columns = [\n  {\n    field: \"customerName\",\n    headerName: \"Назва замовника\",\n    flex: 3,\n    renderCell: (params) => (\n      <Link\n        className=\"name-link\"\n        onClick={() => store.dispatch(SHOW_CUSTOMER_MODAL(params.row))}\n      >\n        <b>{params.value}</b>\n      </Link>\n    ),\n  },\n  {\n    field: \"debtor\",\n    headerName: \"Боржник\",\n    flex: 1.4,\n    cellClassName: \"centered\",\n    renderCell: (params) => {\n      if (params.value) {\n        return <img src=\"img/Blackmark.svg\" width=\"19\" height=\"19\" alt=\"blackmark\" />;\n      } else return <div></div>;\n    },\n  },\n  {\n    field: \"customerGroup\",\n    headerName: \"Група\",\n    flex: 5,\n  },\n  {\n    field: \"firstPerson\",\n    headerName: \"Особа 1\",\n    flex: 2,\n  },\n  {\n    field: \"firstPhone\",\n    headerName: \"Телефон 1\",\n    flex: 2.5,\n  },\n  {\n    field: \"firstEmail\",\n    headerName: \"Email 1\",\n    flex: 4,\n  },\n  {\n    field: \"city\",\n    headerName: \"Місто\",\n    flex: 1.3,\n  },\n  {\n    field: \"info\",\n    headerName: \"Інформація\",\n    flex: 6,\n  },\n];\n\nexport default function ClientsTable() {\n  const queryClient = useQueryClient();\n  const exportQuery = useExportCustomers();\n  const authState = useSelector((state) => state.auth);\n  const [q, setQ] = useState(\"\");\n\n  const filter = (rows) => {\n    return rows.filter(\n      (row) =>\n        row.customerName?.toString().toLowerCase().indexOf(q.toLowerCase()) > -1 ||\n        row.customerGroup?.toString().toLowerCase().indexOf(q.toLowerCase()) > -1 ||\n        row.firstPerson?.toString().toLowerCase().indexOf(q.toLowerCase()) > -1 ||\n        row.firstPhone?.toString().toLowerCase().indexOf(q.toLowerCase()) > -1 ||\n        row.firstEmail?.toString().toLowerCase().indexOf(q.toLowerCase()) > -1 ||\n        row.city?.toString().toLowerCase().indexOf(q.toLowerCase()) > -1 ||\n        row.info?.toString().toLowerCase().indexOf(q.toLowerCase()) > -1\n    );\n  };\n\n  return (\n    <>\n      <TextField\n        variant=\"outlined\"\n        size=\"small\"\n        placeholder=\"Швидкий пошук\"\n        onChange={(e) => setQ(e.target.value)}\n        InputProps={{\n          endAdornment: authState.roles.includes(\"ROLE_ADMIN\") && (\n            <Button\n              className=\"export-btn\"\n              variant=\"outlined\"\n              onClick={() =>\n                exportQuery.mutate(\n                  filter(fixCustomers(queryClient.getQueryData(\"customers\") || []))\n                )\n              }\n            >\n              Експорт\n            </Button>\n          ),\n        }}\n      />\n      <div className=\"x-grid\">\n        <div className=\"frame\">\n          <div className=\"grid-holder\">\n            <XGrid\n              className=\"customers-grid\"\n              rows={filter(fixCustomers(queryClient.getQueryData(\"customers\") || []))}\n              columns={columns}\n              sortModel={[{field: \"customerName\", sort: \"asc\"}]}\n              loading={queryClient.isFetching(\"customers\")}\n              rowHeight={35}\n              headerHeight={35}\n              pagination={true}\n              disableSelectionOnClick={true}\n            />\n          </div>\n        </div>\n      </div>\n    </>\n  );\n}\n","import Axios from \"axios\";\nimport {useMutation} from \"react-query\";\n\nexport default function useExportCustomers() {\n  return useMutation(\n    (customers) =>\n      Axios.post(\n        \"api/customers/export/\",\n        {customers: customers},\n        {\n          responseType: \"arraybuffer\",\n        }\n      ),\n    {\n      onError: (_, params) => {\n        params.setStatus({success: false, error: true});\n      },\n      onSuccess: (val, _) => {\n        const blob = new Blob([val.data], {\n          type: \"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet\",\n        });\n\n        if (window.navigator && window.navigator.msSaveOrOpenBlob) {\n          window.navigator.msSaveOrOpenBlob(blob);\n          return;\n        }\n        const data = window.URL.createObjectURL(blob);\n        const link = document.createElement(\"a\");\n        link.href = data;\n        link.download = \"Клієнти.xlsx\";\n        link.dispatchEvent(\n          new MouseEvent(\"click\", {bubbles: true, cancelable: true, view: window})\n        );\n      },\n    }\n  );\n}\n","import {XGrid} from \"@material-ui/x-grid\";\nimport React from \"react\";\nimport {useQueryClient} from \"react-query\";\nimport \"./ClientTable.css\";\n\nconst formatDate = (date) => {\n  if (!date) return \"\";\n  return new Intl.DateTimeFormat(\"en-GB\", {\n    year: \"numeric\",\n    month: \"2-digit\",\n    day: \"2-digit\",\n    hour: \"2-digit\",\n    minute: \"2-digit\",\n    second: \"2-digit\",\n    hour12: false,\n  }).format(date);\n};\n\nconst columns = [\n  {\n    field: \"name\",\n    headerName: \"Назва замовника\",\n    flex: 2,\n    renderCell: (params) => <b>{params.value}</b>,\n  },\n  {\n    field: \"lastOrderDate\",\n    type: \"dateTime\",\n    headerName: \"Останнє замовлення\",\n    flex: 1,\n    valueFormatter: (param) => formatDate(param.value),\n  },\n  {\n    field: \"lastPaymentDate\",\n    type: \"string\",\n    headerName: \"Остання оплата\",\n    flex: 1,\n    valueFormatter: (param) => formatDate(param.value),\n  },\n  {\n    field: \"debt\",\n    type: \"number\",\n    headerName: \"Борг\",\n    cellClassName: \"centered\",\n    valueFormatter: (row) => row.value,\n    renderCell: (params) => <b>{params.value} грн.</b>,\n    flex: 1,\n  },\n];\n\nconst fixDebtors = (debtors) => {\n  if (!debtors) return [];\n  for (let i = 0; i < debtors.length; i++) {\n    debtors[i].id = i;\n    debtors[i].lastOrderDate = new Date(debtors[i].lastOrderDate);\n    debtors[i].lastPaymentDate = !debtors[i].lastPaymentDate\n      ? \"\"\n      : new Date(debtors[i].lastPaymentDate);\n  }\n  return debtors;\n};\n\nexport default function ClientsTable() {\n  const queryClient = useQueryClient();\n\n  return (\n    <div className=\"x-grid\">\n      <div className=\"frame\">\n        <div className=\"grid-holder\">\n          <XGrid\n            className=\"customers-grid\"\n            rows={fixDebtors(queryClient.getQueryData(\"debtors\")) || []}\n            columns={columns}\n            loading={queryClient.isFetching(\"debtors\")}\n            rowHeight={35}\n            headerHeight={35}\n            pagination={true}\n            disableSelectionOnClick={true}\n          />\n        </div>\n      </div>\n    </div>\n  );\n}\n","import {Button, Typography} from \"@material-ui/core\";\nimport Backdrop from \"@material-ui/core/Backdrop\";\nimport Fade from \"@material-ui/core/Fade\";\nimport Modal from \"@material-ui/core/Modal\";\nimport {makeStyles} from \"@material-ui/core/styles\";\nimport {Field, Form, Formik} from \"formik\";\nimport React from \"react\";\nimport {useDispatch, useSelector} from \"react-redux\";\nimport * as yup from \"yup\";\nimport {CLOSE_CUSTOMER_MODAL, SET_MAIN_TAB, UPDATE_SORTING} from \"./context/actions\";\nimport useSaveCustomer from \"./hooks/useSaveCustomer\";\nimport InfoMessage from \"./InfoMessage\";\nimport InputField from \"./InputField\";\nimport {EmptySort} from \"./models/SortObject\";\nimport SwitchControl from \"./SwitchControl\";\n\nconst useStyles = makeStyles((theme) => ({\n  modal: {\n    display: \"flex\",\n    alignItems: \"center\",\n    justifyContent: \"center\",\n  },\n  paper: {\n    backgroundColor: theme.palette.background.paper,\n    borderRadius: \"4px\",\n    boxShadow: theme.shadows[5],\n    padding: theme.spacing(2, 4),\n    width: \"40%\",\n\n    \"& .MuiOutlinedInput-inputMarginDense\": {\n      padding: \"8px !important\",\n    },\n  },\n  link: {\n    cursor: \"pointer\",\n    color: theme.palette.primary.main,\n  },\n  h2: {\n    textAlign: \"center\",\n    fontWeight: \"400\",\n    marginBottom: \"1rem\",\n  },\n  buttons: {\n    display: \"grid\",\n    gridTemplateColumns: \"1fr 2fr 1fr\",\n    gap: \"2rem\",\n  },\n  clearButton: {\n    backgroundColor: \"rgb(210,0,10)\",\n    color: \"white\",\n    marginRight: \"1rem\",\n\n    \"&:hover\": {\n      backgroundColor: \"rgb(190,0,10)\",\n    },\n  },\n  rowOne: {\n    gridTemplateRows: \"1fr 1fr\",\n    gridTemplateColumns: \"1fr 1fr 1fr\",\n    gridColumnGap: \"15px\",\n    gridRowGap: \"10px\",\n  },\n  rowTwo: {\n    gridTemplateRows: \"1fr 1fr 1fr\",\n    gridTemplateColumns: \"1fr 1fr 1fr\",\n    gridRowGap: \"10px\",\n  },\n  longTextField: {\n    gridColumnStart: 1,\n    gridColumnEnd: 3,\n  },\n  billNo: {\n    gridColumn: 4,\n  },\n  switchHolder: {\n    gridColumn: 3,\n    justifySelf: \"end\",\n\n    \"& .MuiFormControlLabel-root\": {\n      margin: 0,\n    },\n  },\n  auxiliaryRow: {\n    display: \"grid\",\n    gridColumnGap: \"20px\",\n    gridTemplateRows: \"1fr\",\n    gridTemplateColumns: \"1fr 1fr 1fr 1fr\",\n    margin: \"2rem auto 1rem auto\",\n\n    \"& .MuiOutlinedInput-input\": {\n      padding: \"8px\",\n    },\n\n    \"& .MuiButtonBase-root\": {\n      padding: \"2px !important\",\n    },\n\n    \"& .MuiOutlinedInput-adornedEnd\": {\n      paddingRight: \"3px\",\n    },\n\n    \"& #date-picker-inline-label\": {\n      transform: \"translate(14px, 10px) scale(1)\",\n    },\n  },\n}));\n\nconst validationSchema = yup.object({\n  customer: yup.object({\n    customerName: yup.string().required(),\n    customerGroup: yup.string().nullable(),\n    city: yup.string().nullable(),\n    info: yup.string().nullable(),\n    firstPerson: yup.string().trim().max(25).nullable(),\n    firstPhone: yup.string().max(10).min(10).nullable(),\n    firstEmail: yup.string().email().nullable(),\n    secondPerson: yup.string().trim().max(25).nullable(),\n    secondPhone: yup.string().max(10).min(10).nullable(),\n    secondEmail: yup.string().email().nullable(),\n    thirdPerson: yup.string().trim().max(25).nullable(),\n    thirdPhone: yup.string().max(10).min(10).nullable(),\n    thirdEmail: yup.string().email().nullable(),\n  }),\n});\n\nexport default function CustomerForm() {\n  const classes = useStyles();\n  const customerModalState = useSelector((store) => store.showCustomerModal);\n  const saveCustomerQuery = useSaveCustomer();\n  const authState = useSelector((state) => state.auth);\n  const dispatch = useDispatch();\n  const [showSavedInfo, setShowSavedInfo] = React.useState({\n    success: false,\n    error: false,\n  });\n\n  const handleClose = () => {\n    setShowSavedInfo({success: false, error: false});\n  };\n\n  const sortByCustomer = () => {\n    dispatch(UPDATE_SORTING({...EmptySort, customer: customerModalState.customer}, \"sort\"));\n    dispatch(SET_MAIN_TAB(2));\n    dispatch(CLOSE_CUSTOMER_MODAL());\n  };\n\n  return (\n    <div>\n      <Modal\n        aria-labelledby=\"transition-modal-title\"\n        aria-describedby=\"transition-modal-description\"\n        className={classes.modal}\n        open={customerModalState.show}\n        onClose={() => dispatch(CLOSE_CUSTOMER_MODAL())}\n        closeAfterTransition\n        BackdropComponent={Backdrop}\n        BackdropProps={{\n          timeout: 500,\n        }}\n      >\n        <Fade in={customerModalState.show}>\n          <div className={classes.paper}>\n            <Formik\n              validateOnChange={false}\n              validateOnMount={false}\n              validateOnBlur={false}\n              initialValues={{customer: customerModalState.customer}}\n              onSubmit={(form) => {\n                saveCustomerQuery.mutate({\n                  customer: form.customer,\n                  setStatus: setShowSavedInfo,\n                });\n              }}\n              validationSchema={validationSchema}\n            >\n              {({values, errors, validateField}) => (\n                <Form>\n                  <Typography className={classes.h2} component=\"h2\" variant=\"h5\">\n                    {customerModalState.customer.customerName\n                      ? customerModalState.customer.customerName\n                      : \"Новий замовник\"}\n                  </Typography>\n                  <div className={`row__one ${classes.rowOne}`}>\n                    <Field\n                      className={classes.longTextField}\n                      name=\"customer.customerName\"\n                      label=\"Назва замовника\"\n                      error={errors?.customer?.customerName}\n                      validator={validateField}\n                      component={InputField}\n                      numeric={false}\n                      disabled={saveCustomerQuery.isLoading}\n                    />\n                    <Field\n                      name=\"customer.customerGroup\"\n                      label=\"Група\"\n                      error={errors?.customer?.customerGroup}\n                      validator={validateField}\n                      component={InputField}\n                      numeric={false}\n                      disabled={saveCustomerQuery.isLoading}\n                    />\n                    <Field\n                      className={classes.longTextField}\n                      name=\"customer.info\"\n                      label=\"Примітка\"\n                      error={errors?.customer?.info}\n                      validator={validateField}\n                      component={InputField}\n                      numeric={false}\n                      disabled={saveCustomerQuery.isLoading}\n                    />\n                    <Field\n                      name=\"customer.city\"\n                      label=\"Місто\"\n                      error={errors?.customer?.city}\n                      validator={validateField}\n                      component={InputField}\n                      numeric={false}\n                      disabled={saveCustomerQuery.isLoading}\n                    />\n                  </div>\n\n                  <div className={`${classes.rowTwo} row__two`}>\n                    <Field\n                      name=\"customer.firstPerson\"\n                      label=\"Конт. Особа 1\"\n                      error={errors?.customer?.firstPerson}\n                      validator={validateField}\n                      component={InputField}\n                      numeric={false}\n                      disabled={saveCustomerQuery.isLoading}\n                    />\n                    <Field\n                      name=\"customer.firstPhone\"\n                      label=\"Телефон (без +38)\"\n                      error={errors?.customer?.firstPhone}\n                      validator={validateField}\n                      component={InputField}\n                      phone={true}\n                      disabled={saveCustomerQuery.isLoading}\n                    />\n                    <Field\n                      name=\"customer.firstEmail\"\n                      label=\"Email\"\n                      error={errors?.customer?.firstEmail}\n                      validator={validateField}\n                      component={InputField}\n                      numeric={false}\n                      disabled={saveCustomerQuery.isLoading}\n                    />\n\n                    <Field\n                      name=\"customer.secondPerson\"\n                      label=\"Конт. Особа 2\"\n                      error={errors?.customer?.secondPerson}\n                      validator={validateField}\n                      component={InputField}\n                      numeric={false}\n                      disabled={saveCustomerQuery.isLoading}\n                    />\n                    <Field\n                      name=\"customer.secondPhone\"\n                      label=\"Телефон (без +38)\"\n                      error={errors?.customer?.secondPhone}\n                      validator={validateField}\n                      component={InputField}\n                      phone={true}\n                      disabled={saveCustomerQuery.isLoading}\n                    />\n                    <Field\n                      name=\"customer.secondEmail\"\n                      label=\"Email\"\n                      error={errors?.customer?.secondEmail}\n                      validator={validateField}\n                      component={InputField}\n                      numeric={false}\n                      disabled={saveCustomerQuery.isLoading}\n                    />\n\n                    <Field\n                      name=\"customer.thirdPerson\"\n                      label=\"Конт. Особа 3\"\n                      error={errors?.customer?.thirdPerson}\n                      validator={validateField}\n                      component={InputField}\n                      numeric={false}\n                      disabled={saveCustomerQuery.isLoading}\n                    />\n                    <Field\n                      name=\"customer.thirdPhone\"\n                      label=\"Телефон (без +38)\"\n                      error={errors?.customer?.thirdPhone}\n                      validator={validateField}\n                      component={InputField}\n                      phone={true}\n                      disabled={saveCustomerQuery.isLoading}\n                    />\n                    <Field\n                      name=\"customer.thirdEmail\"\n                      label=\"Email\"\n                      error={errors?.customer?.thirdEmail}\n                      validator={validateField}\n                      component={InputField}\n                      numeric={false}\n                      disabled={saveCustomerQuery.isLoading}\n                    />\n                  </div>\n\n                  <div className={classes.buttons}>\n                    {(values.customer.customerId && (\n                      <Button\n                        style={{gridColumn: 1}}\n                        color=\"primary\"\n                        variant=\"contained\"\n                        className={classes.button}\n                        disabled={saveCustomerQuery.isLoading}\n                        onClick={sortByCustomer}\n                      >\n                        В сортування\n                      </Button>\n                    )) ||\n                      null}\n\n                    <Button\n                      style={{gridColumn: 2}}\n                      color=\"primary\"\n                      variant=\"contained\"\n                      className={classes.button}\n                      disabled={saveCustomerQuery.isLoading}\n                      type=\"submit\"\n                    >\n                      Зберегти замовника\n                    </Button>\n\n                    {(values.customer.customerId && authState.roles.includes(\"ROLE_ADMIN\") && (\n                      <div className={classes.switchHolder}>\n                        <SwitchControl\n                          name=\"customer.debtor\"\n                          label=\"Боржник\"\n                          isChecked={values.customer.debtor}\n                          disabled={saveCustomerQuery.isLoading}\n                        />\n                      </div>\n                    )) ||\n                      null}\n                  </div>\n                </Form>\n              )}\n            </Formik>\n          </div>\n        </Fade>\n      </Modal>\n      <InfoMessage\n        type=\"success\"\n        open={showSavedInfo.success}\n        onClose={handleClose}\n        message=\"Замовинка успішно збережено.\"\n      />\n      <InfoMessage\n        type=\"error\"\n        open={showSavedInfo.error}\n        onClose={handleClose}\n        message=\"Помилка при збереженні замовника. Можливо клієнт зі схожою інформацією вже існує.\"\n      />\n    </div>\n  );\n}\n","import Axios from \"axios\";\nimport {useMutation, useQueryClient} from \"react-query\";\nimport {useDispatch} from \"react-redux\";\nimport {CLOSE_CUSTOMER_MODAL} from \"../context/actions\";\n\nexport default function useSaveCustomer() {\n  const queryClient = useQueryClient();\n  const dispatch = useDispatch();\n\n  return useMutation(\n    (params) =>\n      params.customer.customerId === 0\n        ? Axios.post(\"/api/customers/\", params.customer)\n        : Axios.put(\"/api/customers/\", params.customer),\n    {\n      onSuccess: (_, passedParams) => {\n        queryClient.invalidateQueries(\"customers\");\n        dispatch(CLOSE_CUSTOMER_MODAL());\n        passedParams.setStatus({success: true, error: false});\n      },\n      onError: (_, passedParams) => {\n        console.log(_);\n        passedParams.setStatus({success: false, error: true});\n      },\n    }\n  );\n}\n","import {Link, Typography} from \"@material-ui/core\";\nimport Button from \"@material-ui/core/Button\";\nimport {makeStyles} from \"@material-ui/core/styles\";\nimport Tab from \"@material-ui/core/Tab\";\nimport Tabs from \"@material-ui/core/Tabs\";\nimport Toolbar from \"@material-ui/core/Toolbar\";\nimport React from \"react\";\nimport {useQueryClient} from \"react-query\";\nimport {useSelector, useDispatch} from \"react-redux\";\nimport {useHistory} from \"react-router-dom\";\nimport {SET_ACTIVE_SORTING} from \"./context/actions\";\nimport \"./Header.css\";\nimport * as AuthService from \"./services/auth-service\";\n\nconst useStyles = makeStyles(() => ({\n  root: {\n    flexGrow: 1,\n  },\n  logoutButton: {\n    padding: 0,\n  },\n  logoutHolder: {\n    display: \"flex\",\n    justifyContent: \"flex-end\",\n    alignItems: \"baseline\",\n    whiteSpace: \"nowrap\",\n  },\n  tabs: {\n    margin: \"0 auto\",\n    cursor: \"pointer\",\n  },\n}));\n\nexport default function Header({radius}) {\n  const classes = useStyles();\n  const history = useHistory();\n  const authState = useSelector((state) => state.auth);\n  const queryClient = useQueryClient();\n  const dispatch = useDispatch();\n  const sortState = useSelector((state) => state.sortSelections);\n  const [value, setValue] = React.useState(0);\n\n  const logout = () => {\n    AuthService.unauthorize();\n    history.push(\"/login\");\n  };\n\n  const setSortView = (type) => {\n    if (sortState.active === type) return;\n    dispatch(SET_ACTIVE_SORTING(type));\n  };\n\n  const changeView = (_e, newValue) => {\n    setValue(newValue);\n    switch (newValue) {\n      case 0:\n        history.push(\"/\");\n        break;\n      case 1:\n        setSortView(\"filter\");\n        history.push(\"/sort\");\n        break;\n      case 2:\n        queryClient.invalidateQueries(\"customers\");\n        history.push(\"/clients\");\n        break;\n      case 3:\n        queryClient.invalidateQueries(\"users\");\n        queryClient.invalidateQueries(\"customers\");\n        history.push(\"/users\");\n        break;\n      case 4:\n        queryClient.invalidateQueries(\"debtors\");\n        history.push(\"/debtors\");\n        break;\n      default:\n        break;\n    }\n  };\n\n  return (\n    <div>\n      <div className=\"header__container\">\n        <div\n          className=\"menu\"\n          style={{borderBottomLeftRadius: radius, borderBottomRightRadius: radius}}\n        >\n          <Toolbar>\n            <Link color=\"inherit\" href=\"https://psdruk.com.ua/\">\n              <img width=\"110\" height=\"50\" src=\"/img/logo.svg\" alt=\"logo\" />\n            </Link>\n            {!authState.roles.includes(\"ROLE_CUSTOMER\") ? (\n              <>\n                <Tabs\n                  className={classes.tabs}\n                  value={value}\n                  onChange={changeView}\n                  TabIndicatorProps={{style: {background: \"white\"}}}\n                  indicatorColor=\"secondary\"\n                  aria-label=\"scrollable auto tabs example\"\n                >\n                  <Tab label=\"Головна\" value={0} />\n                  {authState.roles.includes(\"ROLE_ADMIN\") && (\n                    <Tab label=\"Сортування\" value={1} />\n                  )}\n                  <Tab label=\"Клієнти\" value={2} />\n                  {authState.roles.includes(\"ROLE_ADMIN\") && (\n                    <Tab label=\"Користувачі\" value={3} />\n                  )}\n                  {authState.roles.includes(\"ROLE_ADMIN\") && (\n                    <Tab label=\"Боржники\" value={4} />\n                  )}\n                </Tabs>\n              </>\n            ) : (\n              <div className={classes.tabs}></div>\n            )}\n\n            <div className={classes.logoutHolder}>\n              <Typography variant=\"body1\" style={{fontWeight: 300}}>\n                Вітаємо, <b>{localStorage.getItem(\"fullName\")}</b>\n              </Typography>\n              <Button color=\"inherit\" onClick={logout} className={classes.logoutButton}>\n                Вийти\n              </Button>\n            </div>\n          </Toolbar>\n        </div>\n      </div>\n    </div>\n  );\n}\n","import Avatar from \"@material-ui/core/Avatar\";\nimport Box from \"@material-ui/core/Box\";\nimport Button from \"@material-ui/core/Button\";\nimport Container from \"@material-ui/core/Container\";\nimport CssBaseline from \"@material-ui/core/CssBaseline\";\nimport Grid from \"@material-ui/core/Grid\";\nimport Link from \"@material-ui/core/Link\";\nimport {makeStyles} from \"@material-ui/core/styles\";\nimport TextField from \"@material-ui/core/TextField\";\nimport Typography from \"@material-ui/core/Typography\";\nimport LockOutlinedIcon from \"@material-ui/icons/LockOutlined\";\nimport React, {useState} from \"react\";\nimport {useDispatch} from \"react-redux\";\nimport {useHistory} from \"react-router-dom\";\nimport {SET_AUTHENTICATED} from \"./context/actions\";\nimport InfoMessage from \"./InfoMessage\";\nimport * as AuthService from \"./services/auth-service\";\n\nfunction Copyright() {\n  return (\n    <Typography variant=\"body2\" color=\"textSecondary\" align=\"center\">\n      {\"Copyright © \"}\n      <Link color=\"inherit\" href=\"https://psdruk.com.ua/\">\n        psdruk.com.ua\n      </Link>{\" \"}\n      {new Date().getFullYear()}\n      {\".\"}\n    </Typography>\n  );\n}\n\nconst useStyles = makeStyles((theme) => ({\n  paper: {\n    marginTop: theme.spacing(20),\n    display: \"flex\",\n    flexDirection: \"column\",\n    alignItems: \"center\",\n  },\n  avatar: {\n    margin: theme.spacing(1),\n    backgroundColor: theme.palette.secondary.main,\n  },\n  form: {\n    width: \"100%\",\n    marginTop: theme.spacing(1),\n  },\n  submit: {\n    margin: theme.spacing(3, 0, 2),\n  },\n}));\n\nexport default function Login() {\n  const classes = useStyles();\n  const history = useHistory();\n  const dispatch = useDispatch();\n  const [form, setForm] = useState({username: \"\", password: \"\"});\n  const [showNotYetVerified, setShowNotYetVerified] = useState(false);\n  const [showWrongCredentials, setShowWrongCredentials] = useState(false);\n  const [isDisabled, setIsDisabled] = useState(false);\n\n  const setUsername = (e) => setForm({...form, username: e.target.value});\n  const setPassword = (e) => setForm({...form, password: e.target.value});\n\n  const handleClose = () => {\n    setShowNotYetVerified(false);\n    setShowWrongCredentials(false);\n  };\n\n  const submitCredentials = (e) => {\n    e.preventDefault();\n    setIsDisabled(true);\n    AuthService.authorize(form)\n      .then((data) => {\n        if (!data.employee && !data.customer) {\n          setShowNotYetVerified(true);\n        } else {\n          dispatch(\n            SET_AUTHENTICATED(\n              data.token,\n              data.employee,\n              data.customer,\n              data.username,\n              data.roles,\n              data.fullName\n            )\n          );\n          history.push(\"/\");\n        }\n      })\n      .catch((err) => {\n        console.log(err);\n        setIsDisabled(false);\n        setShowWrongCredentials(true);\n      });\n  };\n\n  return (\n    <Container component=\"main\" maxWidth=\"xs\">\n      <CssBaseline />\n      <div className={classes.paper}>\n        <Avatar className={classes.avatar}>\n          <LockOutlinedIcon />\n        </Avatar>\n        <form className={classes.form} onSubmit={submitCredentials}>\n          <TextField\n            variant=\"outlined\"\n            margin=\"normal\"\n            required\n            fullWidth\n            id=\"email\"\n            onChange={setUsername}\n            label=\"Email\"\n            name=\"email\"\n            autoComplete=\"off\"\n            autoFocus\n          />\n          <TextField\n            variant=\"outlined\"\n            margin=\"normal\"\n            required\n            fullWidth\n            name=\"password\"\n            label=\"Пароль\"\n            type=\"password\"\n            id=\"password\"\n            onChange={setPassword}\n            autoComplete=\"off\"\n          />\n\n          <Button\n            type=\"submit\"\n            fullWidth\n            variant=\"contained\"\n            color=\"primary\"\n            className={classes.submit}\n            disabled={isDisabled}\n          >\n            Вхід\n          </Button>\n          <Grid container>\n            <Grid item xs>\n              <Link href=\"http://plg-site.32server.in.ua/\" variant=\"body2\">\n                Забули пароль?\n              </Link>\n            </Grid>\n            <Grid item>\n              <Link href=\"http://plg-site.32server.in.ua/\" variant=\"body2\">\n                {\"Зареєструватись\"}\n              </Link>\n            </Grid>\n          </Grid>\n        </form>\n      </div>\n      <Box mt={8}>\n        <Copyright />\n      </Box>\n      <InfoMessage\n        type=\"error\"\n        open={showNotYetVerified}\n        onClose={handleClose}\n        message=\"Аккаунт ще не пройшов перевірку.\"\n      />\n      <InfoMessage\n        type=\"error\"\n        open={showWrongCredentials}\n        onClose={handleClose}\n        message=\"Неправильні дані для входу.\"\n      />\n    </Container>\n  );\n}\n","import {makeStyles, Tooltip} from \"@material-ui/core\";\nimport React from \"react\";\n\nconst useStylesTooltip = makeStyles((theme) => ({\n  arrow: {\n    color: theme.palette.primary.main,\n  },\n  tooltip: {\n    fontSize: 12,\n    backgroundColor: theme.palette.primary.main,\n  },\n}));\n\nfunction ToolTip({title, value, placement = \"right-start\", children, ...props}) {\n  const classes = useStylesTooltip();\n\n  return (\n    <Tooltip title={title} placement={placement} arrow classes={classes} {...props}>\n      <div className=\"value\" style={{lineHeight: \"1.43\"}}>\n        {children}\n      </div>\n    </Tooltip>\n  );\n}\n\nexport default ToolTip;\n","import {\n  Button,\n  Dialog,\n  DialogActions,\n  DialogContent,\n  DialogContentText,\n  DialogTitle,\n  InputAdornment,\n  Link,\n  OutlinedInput,\n  Typography,\n} from \"@material-ui/core\";\nimport Backdrop from \"@material-ui/core/Backdrop\";\nimport Fade from \"@material-ui/core/Fade\";\nimport Modal from \"@material-ui/core/Modal\";\nimport {makeStyles} from \"@material-ui/core/styles\";\nimport {Field, Form, Formik} from \"formik\";\nimport React from \"react\";\nimport {useQueryClient} from \"react-query\";\nimport * as yup from \"yup\";\nimport ComboBox from \"./ComboBox\";\nimport DatePicker from \"./DatePicker\";\nimport useDeleteOrder from \"./hooks/useDeleteOrder\";\nimport useUpdateOrder from \"./hooks/useUpdateOrder\";\nimport InfoMessage from \"./InfoMessage\";\nimport InputField from \"./InputField\";\nimport ToolTip from \"./ToolTip\";\n\nconst useStyles = makeStyles((theme) => ({\n  modal: {\n    display: \"flex\",\n    alignItems: \"center\",\n    justifyContent: \"center\",\n  },\n  paper: {\n    backgroundColor: theme.palette.background.paper,\n    borderRadius: \"4px\",\n    boxShadow: theme.shadows[5],\n    padding: theme.spacing(2, 4),\n    width: \"55%\",\n  },\n  link: {\n    cursor: \"pointer\",\n    color: theme.palette.primary.main,\n  },\n  h2: {\n    top: \"-.9rem\",\n    position: \"relative\",\n    marginTop: 0,\n    textAlign: \"center\",\n    fontWeight: \"400\",\n    gridColumnEnd: 4,\n    gridColumnStart: 2,\n  },\n  buttons: {\n    display: \"flex\",\n    justifyContent: \"flex-end\",\n  },\n  clearButton: {\n    backgroundColor: \"rgb(210,0,10)\",\n    color: \"white\",\n    marginRight: \"1rem\",\n\n    \"&:hover\": {\n      backgroundColor: \"rgb(190,0,10)\",\n    },\n  },\n  rowOne: {\n    gridTemplateColumns: \"1fr 1fr 1fr 1fr\",\n  },\n  rowTwo: {\n    gridTemplateColumns: \"1fr 1fr 1fr 1fr 1fr 1fr 1fr\",\n  },\n  rowThree: {\n    \"& .MuiInputBase-root.Mui-disabled\": {\n      color: \"black\",\n    },\n  },\n  billNo: {\n    gridColumn: 4,\n  },\n  auxiliaryRow: {\n    display: \"grid\",\n    gridColumnGap: \"20px\",\n    gridTemplateRows: \"1fr\",\n    gridTemplateColumns: \"1fr 1fr 1fr 1fr\",\n    margin: \"2rem auto 1rem auto\",\n\n    \"& .MuiOutlinedInput-input\": {\n      padding: \"8px\",\n    },\n\n    \"& .MuiButtonBase-root\": {\n      padding: \"2px !important\",\n    },\n\n    \"& .MuiOutlinedInput-adornedEnd\": {\n      paddingRight: \"3px\",\n    },\n\n    \"& #date-picker-inline-label\": {\n      transform: \"translate(14px, 10px) scale(1)\",\n    },\n  },\n}));\n\nconst validationSchema = yup.object({\n  order: yup.object({\n    entrepreneur: yup.object().required(),\n    customer: yup.object().required(),\n    date: yup.date().required(),\n    orderType: yup.object().required(),\n    orderKind: yup.object().required(),\n    billNo: yup.number().lessThan(2000000000).positive().min(0),\n    width: yup.number().lessThan(2000000000).positive().min(0).required(),\n    height: yup.number().lessThan(2000000000).positive().min(0).required(),\n    amount: yup.number().lessThan(2000000000).positive().min(0).required(),\n    price: yup.number().lessThan(2000000000).positive().min(0).required(),\n    fees: yup.number().lessThan(2000000000).positive().min(0).required(),\n    finalSum: yup.number().lessThan(2000000000).positive().min(0).required(),\n    comment: yup.string().trim().max(255).required(),\n    payLog: yup.string(),\n  }),\n});\n\nexport default function EditForm({user, roles, order}) {\n  const classes = useStyles();\n  const queryClient = useQueryClient();\n  const deleteQuery = useDeleteOrder();\n  const updateOrderQuery = useUpdateOrder();\n  const [open, setOpen] = React.useState(false);\n  const [showDeleteError, setShowDeleteError] = React.useState(false);\n  const [showSaveError, setShowSaveError] = React.useState(false);\n  const [showConfirmation, setShowConfirmation] = React.useState(false);\n  const toggle = () => setOpen(!open);\n\n  const onDeleteOrder = (orderId) => {\n    setShowConfirmation(false);\n    deleteQuery.mutate({\n      orderId: orderId,\n      setStatus: setShowSaveError,\n      setShowModal: setOpen,\n    });\n  };\n\n  const isNotMyOrder = () => {\n    if (!user) return false;\n    return order.employee.employeeID !== user.employeeID;\n  };\n\n  const amI = (role) => {\n    return roles.includes(role);\n  };\n\n  const isDisabledFor = (role = \"ROLE_ADMIN\") => {\n    if (!user) return true;\n    if (amI(\"ROLE_ADMIN\")) return false;\n    return amI(role) ? false : isNotMyOrder();\n  };\n\n  return (\n    <div>\n      <ToolTip title={order.employee.name}>\n        <Link className={classes.link} onClick={toggle}>\n          <b>{order.orderId}</b>\n        </Link>\n      </ToolTip>\n\n      <Modal\n        aria-labelledby=\"transition-modal-title\"\n        aria-describedby=\"transition-modal-description\"\n        className={classes.modal}\n        open={open}\n        onClose={toggle}\n        closeAfterTransition\n        BackdropComponent={Backdrop}\n        BackdropProps={{\n          timeout: 500,\n        }}\n      >\n        <Fade in={open}>\n          <div className={classes.paper}>\n            <Formik\n              validateOnChange={true}\n              validateOnMount={false}\n              validateOnBlur={false}\n              initialValues={{order: order}}\n              onSubmit={(form) => {\n                updateOrderQuery.mutate({\n                  order: form.order,\n                  toggleModal: toggle,\n                  setStatus: setShowSaveError,\n                });\n              }}\n              validationSchema={validationSchema}\n            >\n              {({values, errors, validateField}) => (\n                <Form>\n                  <InfoMessage\n                    type=\"error\"\n                    open={showDeleteError}\n                    onClose={() => setShowDeleteError(false)}\n                    message=\"Помилка при видаленні замовлення.\"\n                  />\n                  <InfoMessage\n                    type=\"error\"\n                    open={showSaveError}\n                    onClose={() => setShowSaveError(false)}\n                    message=\"Помилка при збереженні замовлення.\"\n                  />\n                  <div className={classes.auxiliaryRow}>\n                    <Field\n                      component={DatePicker}\n                      label=\"Дата\"\n                      name=\"order.date\"\n                      error={errors?.order?.date}\n                      validator={validateField}\n                      disabled={updateOrderQuery.isLoading || isDisabledFor()}\n                    />\n                    <Typography className={classes.h2} component=\"h2\" variant=\"h5\">\n                      Замовленя № <b>{order.orderId}</b>\n                    </Typography>\n                    <Field\n                      className={classes.billNo}\n                      name=\"order.billNo\"\n                      label=\"№ Рахунку\"\n                      disableCalculation={true}\n                      error={errors?.order?.billNo}\n                      validator={validateField}\n                      component={InputField}\n                      disabled={updateOrderQuery.isLoading || isDisabledFor(\"ROLE_MANAGER\")}\n                    />\n                  </div>\n\n                  <div className={`${classes.rowOne} row__one`}>\n                    <Field\n                      name=\"order.entrepreneur\"\n                      label=\"Підприємець\"\n                      error={errors?.order?.entrepreneur}\n                      validator={validateField}\n                      component={ComboBox}\n                      disabled={updateOrderQuery.isLoading || isDisabledFor()}\n                      getName={(option) => option.fullName || \"\"}\n                      options={queryClient.getQueryData(\"entrepreneurs\")}\n                    />\n                    <Field\n                      name=\"order.customer\"\n                      label=\"Замовник\"\n                      error={errors?.order?.customer}\n                      validator={validateField}\n                      component={ComboBox}\n                      disabled={updateOrderQuery.isLoading || isDisabledFor()}\n                      getName={(option) => option.customerName || \"\"}\n                      options={queryClient.getQueryData(\"customers\")}\n                    />\n                    <Field\n                      name=\"order.orderType\"\n                      label=\"Вид\"\n                      error={errors?.order?.orderType}\n                      validator={validateField}\n                      component={ComboBox}\n                      disabled={updateOrderQuery.isLoading || isDisabledFor()}\n                      getName={(option) => option.typeName || \"\"}\n                      options={queryClient.getQueryData(\"orderTypes\")}\n                    />\n                    <Field\n                      name=\"order.orderKind\"\n                      label=\"Тип\"\n                      error={errors?.order?.orderKind}\n                      validator={validateField}\n                      component={ComboBox}\n                      disabled={updateOrderQuery.isLoading || isDisabledFor()}\n                      getName={(option) => option.kindName || \"\"}\n                      options={values.order?.orderType?.orderKinds || []}\n                    />\n                  </div>\n\n                  <div className={`${classes.rowTwo} row__two`}>\n                    <Field\n                      name=\"order.width\"\n                      label=\"Ширина\"\n                      error={errors?.order?.width}\n                      validator={validateField}\n                      component={InputField}\n                      disabled={updateOrderQuery.isLoading || isDisabledFor()}\n                    />\n                    <Field\n                      name=\"order.height\"\n                      label=\"Висота\"\n                      error={errors?.order?.height}\n                      validator={validateField}\n                      component={InputField}\n                      disabled={updateOrderQuery.isLoading || isDisabledFor()}\n                    />\n                    <Field\n                      name=\"order.amount\"\n                      label=\"Кількість\"\n                      error={errors?.order?.amount}\n                      validator={validateField}\n                      component={InputField}\n                      disabled={updateOrderQuery.isLoading || isDisabledFor()}\n                    />\n                    <OutlinedInput\n                      id=\"metrics\"\n                      size=\"small\"\n                      variant=\"outlined\"\n                      value={\n                        (\n                          ((values.order.width * values.order.height) / 1000000) *\n                          values.order.amount\n                        ).toFixed(3) || 0.0\n                      }\n                      endAdornment={<InputAdornment position=\"end\">м²</InputAdornment>}\n                      disabled\n                    />\n                    <Field\n                      name=\"order.price\"\n                      label=\"Ціна\"\n                      error={errors?.order?.price}\n                      validator={validateField}\n                      component={InputField}\n                      disabled={updateOrderQuery.isLoading || isDisabledFor()}\n                    />\n                    <Field\n                      name=\"order.fees\"\n                      label=\"Послуги\"\n                      error={errors?.order?.fees}\n                      validator={validateField}\n                      component={InputField}\n                      disabled={updateOrderQuery.isLoading || isDisabledFor()}\n                    />\n                    <Field\n                      name=\"order.finalSum\"\n                      label=\"Сума\"\n                      error={errors?.order?.finalSum}\n                      validator={validateField}\n                      component={InputField}\n                      disableCalculation={true}\n                      disabled={updateOrderQuery.isLoading || isDisabledFor()}\n                    />\n                  </div>\n\n                  <div className=\"row__three\">\n                    <Field\n                      name=\"order.comment\"\n                      label=\"Опис замовлення\"\n                      error={errors?.order?.comment}\n                      validator={validateField}\n                      numeric={false}\n                      component={InputField}\n                      disabled={updateOrderQuery.isLoading || isDisabledFor(\"ROLE_MANAGER\")}\n                    />\n                  </div>\n\n                  <div className={`${classes.rowThree} row__three`}>\n                    <Field\n                      name=\"order.payLog\"\n                      label=\"Історія оплат\"\n                      error={errors?.order?.payLog}\n                      validator={validateField}\n                      numeric={false}\n                      multiline={true}\n                      component={InputField}\n                      disabled={updateOrderQuery.isLoading || isDisabledFor()}\n                    />\n                  </div>\n\n                  {user && (\n                    <div className={classes.buttons}>\n                      <Button\n                        className={classes.clearButton}\n                        disabled={updateOrderQuery.isLoading || isDisabledFor()}\n                        variant=\"contained\"\n                        type=\"button\"\n                        onClick={() => setShowConfirmation(true)}\n                      >\n                        Видалити\n                      </Button>\n                      <Button\n                        color=\"primary\"\n                        variant=\"contained\"\n                        className={classes.button}\n                        disabled={updateOrderQuery.isLoading || isDisabledFor(\"ROLE_MANAGER\")}\n                        type=\"submit\"\n                      >\n                        Зберегти замовлення\n                      </Button>\n                    </div>\n                  )}\n                </Form>\n              )}\n            </Formik>\n          </div>\n        </Fade>\n      </Modal>\n      <Dialog\n        fullScreen={false}\n        open={showConfirmation}\n        onClose={() => setShowConfirmation(false)}\n        aria-labelledby=\"responsive-dialog-title\"\n      >\n        <DialogTitle id=\"responsive-dialog-title\">\n          Ви дійсно бажаєте видалити це замовлення?\n        </DialogTitle>\n        <DialogContent>\n          <DialogContentText>\n            Повернути його зміст та оплати буде неможливо. Підтвердити?\n          </DialogContentText>\n        </DialogContent>\n        <DialogActions>\n          <Button\n            autoFocus\n            onClick={() => setShowConfirmation(false)}\n            variant=\"contained\"\n            color=\"primary\"\n          >\n            Ні\n          </Button>\n          <Button\n            onClick={() => onDeleteOrder(order.orderId)}\n            variant=\"contained\"\n            className={classes.clearButton}\n            autoFocus\n          >\n            Так\n          </Button>\n        </DialogActions>\n      </Dialog>\n    </div>\n  );\n}\n","import Axios from \"axios\";\nimport {useMutation, useQueryClient} from \"react-query\";\n\nexport default function useDeleteOrder() {\n  const queryClient = useQueryClient();\n  return useMutation((params) => Axios.delete(\"/api/orders/\" + params.orderId), {\n    onError: (_, params) => {\n      params.setStatus(true);\n    },\n    onSuccess: (_, params) => {\n      queryClient.invalidateQueries([\"customers\"]);\n      queryClient.invalidateQueries([\"orders\"]);\n      params.setShowModal(false);\n    },\n  });\n}\n","import Axios from \"axios\";\nimport {useMutation, useQueryClient} from \"react-query\";\n\nexport default function useUpdateOrder() {\n  let backupOrder = null;\n  const queryClient = useQueryClient();\n  return useMutation(\n    (updateObject) => Axios.put(\"/api/orders/\", updateObject.order),\n    {\n      onMutate: (mutationObject) => {\n        queryClient\n          .getQueryCache()\n          .findAll([\"orders\", 1])\n          .forEach((query) => {\n            queryClient.setQueryData(\n              query.queryKey,\n              query.state.data.map((cachedOrder) => {\n                if (cachedOrder.orderId === mutationObject.order.orderId) {\n                  backupOrder = cachedOrder;\n                  return mutationObject.order;\n                } else return cachedOrder;\n              })\n            );\n          });\n      },\n      onError: (_error, params) => {\n        params.setStatus(true);\n        queryClient\n          .getQueryCache()\n          .findAll([\"orders\", 1])\n          .forEach((query) => {\n            queryClient.setQueryData(\n              query.queryKey,\n              query.state.data.map((cachedOrder) => {\n                if (cachedOrder.orderId === backupOrder.orderId) return backupOrder;\n                else return cachedOrder;\n              })\n            );\n          });\n      },\n      onSuccess: (_, updateObject) => {\n        queryClient.invalidateQueries([\"customers\"]);\n        queryClient.invalidateQueries([\"orders\"]);\n        updateObject.toggleModal();\n      },\n    }\n  );\n}\n","import Axios from \"axios\";\n\nexport const fixOrders = (data, id = 0) => {\n  return data.map((row) => {\n    if (row.orderId === 0) {\n      row.id = id;\n      row.orderId = id;\n    } else {\n      row.id = row.orderId;\n    }\n    !row.date ? (row.date = new Date()) : (row.date = new Date(row.date));\n    return row;\n  });\n};\n\nexport const fetchRecentOrders = async () => {\n  const response = await Axios.get(\"/api/orders/\");\n  const data = response.data;\n\n  if (data) return fixOrders(data);\n  return [];\n};\n\nexport const sortOrders = async (tableId, selections, customer) => {\n  const form = {\n    orderId: null,\n    customer: null,\n    entrepreneur: null,\n    employee: null,\n    status: null,\n    dateFrom: null,\n    dateTill: null,\n    payDateFrom: null,\n    payDateTill: null,\n    receiver: null,\n    orderKind: null,\n    orderType: null,\n    details: \"\",\n  };\n\n  const sendForm = {\n    ...form,\n    orderId: selections?.orderId,\n    customer: selections?.customer,\n    entrepreneur: selections?.entrepreneur,\n    employee: selections?.employee,\n    status: selections?.status,\n    dateFrom: selections?.dateFrom,\n    dateTill: selections?.dateTill,\n    payDateFrom: selections?.payDateFrom,\n    payDateTill: selections?.payDateTill,\n    receiver: selections?.receiver,\n    orderKind: selections?.orderKind,\n    orderType: selections?.orderType,\n    details: selections?.details,\n  };\n\n  let response;\n  if (customer) {\n    response = await Axios.get(\"/api/orders/\" + customer.customerId);\n  } else {\n    if (tableId === 1) {\n      response = await Axios.post(\"/api/orders/filter/\", sendForm);\n    } else if (tableId === 2) {\n      response = await Axios.post(\"/api/orders/filter?stat=true\", sendForm);\n    }\n  }\n\n  const data = response.data;\n\n  if (data && tableId === 2) {\n    return {...data, listOfOrders: fixOrders(data.listOfOrders)};\n  }\n\n  if (data) return fixOrders(data);\n  return [];\n};\n","import {Button} from \"@material-ui/core\";\nimport Popper from \"@material-ui/core/Popper\";\nimport {makeStyles} from \"@material-ui/core/styles\";\nimport React from \"react\";\nimport useSetStatus from \"./hooks/useSetStatus\";\n\nconst sources = [\n  \"\",\n  \"img/on-agreement.svg\",\n  \"img/in-progress.svg\",\n  \"img/ready.svg\",\n  \"img/completed.svg\",\n];\n\nconst useStyles = makeStyles((theme) => ({\n  container: {\n    padding: theme.spacing(1),\n    textAlign: \"center\",\n    backgroundColor: \"#fff\",\n    boxShadow: \"0 0 14px 2px rgba(0, 0, 0, 0.3)\",\n    borderRadius: \"4px\",\n  },\n  acceptanceButton: {\n    width: \"100%\",\n    margin: \".2rem 0\",\n    backgroundColor: \"#fff\",\n    border: \"1px solid\",\n    borderColor: \"#df16a0\",\n    color: \"#df16a0\",\n\n    \"&:hover\": {\n      color: \"#fff\",\n      backgroundColor: \"#df16a0\",\n    },\n  },\n  inWorkButton: {\n    width: \"100%\",\n    margin: \".2rem 0\",\n    backgroundColor: \"#fff\",\n    border: \"1px solid\",\n    borderColor: theme.palette.primary.main,\n    color: theme.palette.primary.main,\n\n    \"&:hover\": {\n      color: \"#fff\",\n      backgroundColor: theme.palette.primary.main,\n    },\n  },\n  readyButton: {\n    width: \"100%\",\n    margin: \".2rem 0\",\n    backgroundColor: \"#fff\",\n    border: \"1px solid\",\n    borderColor: \"#28a745\",\n    color: \"#28a745\",\n\n    \"&:hover\": {\n      color: \"#fff\",\n      backgroundColor: \"#28a745\",\n    },\n  },\n  completedButton: {\n    width: \"100%\",\n    margin: \".2rem 0\",\n    backgroundColor: \"#28a745\",\n    border: \"1px solid\",\n    borderColor: \"#28a745\",\n    color: \"#fff\",\n\n    \"&:hover\": {\n      borderColor: \"#218838\",\n      backgroundColor: \"#218838\",\n    },\n  },\n  popper: {\n    zIndex: 1,\n    marginLeft: \"0.5rem\",\n    '&[x-placement*=\"right\"] $arrow': {\n      left: 0,\n      marginLeft: \"-0.9em\",\n      marginTop: \"0.45rem\",\n      height: \"3em\",\n      width: \"1em\",\n      \"&::before\": {\n        borderWidth: \"1em 1em 1em 0\",\n        borderColor: `transparent ${theme.palette.background.paper} transparent transparent`,\n      },\n    },\n    '&[x-placement*=\"left\"] $arrow': {\n      right: 0,\n      marginRight: \"-0.9em\",\n      marginTop: \"0.45rem\",\n      height: \"3em\",\n      width: \"1em\",\n      \"&::before\": {\n        borderWidth: \"1em 0 1em 1em\",\n        borderColor: `transparent transparent transparent ${theme.palette.background.paper}`,\n      },\n    },\n  },\n  arrow: {\n    position: \"absolute\",\n    fontSize: 7,\n    width: \"3em\",\n    height: \"3em\",\n    \"&::before\": {\n      content: '\"\"',\n      margin: \"auto\",\n      display: \"block\",\n      width: 0,\n      height: 0,\n      borderStyle: \"solid\",\n    },\n  },\n}));\n\nfunction StatusPopper({orderId, status, disabled = false}) {\n  const classes = useStyles();\n  const statusQuery = useSetStatus();\n  const anchorRef = React.useRef(null);\n  const [arrow] = React.useState(true);\n  const [open, setOpen] = React.useState(false);\n  const [arrowRef, setArrowRef] = React.useState(null);\n  const id = open ? \"scroll-playground\" : null;\n\n  const toggle = () => setOpen((prevOpen) => (disabled ? null : !prevOpen));\n\n  return (\n    <>\n      <img\n        className={classes.img}\n        ref={anchorRef}\n        src={sources[status]}\n        width=\"19\"\n        height=\"19\"\n        alt=\"on-agreement\"\n        aria-describedby={id}\n        variant=\"contained\"\n        color=\"primary\"\n        onClick={toggle}\n      />\n\n      <Popper\n        id={id}\n        open={open}\n        anchorEl={anchorRef.current}\n        placement=\"right\"\n        disablePortal={true}\n        className={classes.popper}\n        modifiers={{\n          flip: {\n            enabled: true,\n          },\n          preventOverflow: {\n            enabled: true,\n            boundariesElement: \"scrollParent\",\n          },\n          arrow: {\n            enabled: true,\n            element: arrowRef,\n          },\n        }}\n      >\n        {arrow ? <span className={classes.arrow} ref={setArrowRef} /> : null}\n        <div className={classes.container}>\n          <Button\n            className={classes.acceptanceButton}\n            onClick={() => statusQuery.mutate({orderId: orderId, statusId: 1, toggle: toggle})}\n          >\n            На погодженні\n          </Button>\n          <br />\n          <Button\n            className={classes.inWorkButton}\n            onClick={() => statusQuery.mutate({orderId: orderId, statusId: 2, toggle: toggle})}\n          >\n            В роботі\n          </Button>\n          <br />\n          <Button\n            className={classes.readyButton}\n            onClick={() => statusQuery.mutate({orderId: orderId, statusId: 3, toggle: toggle})}\n          >\n            Готове\n          </Button>\n          <br />\n          <Button\n            className={classes.completedButton}\n            o\n            onClick={() => statusQuery.mutate({orderId: orderId, statusId: 4, toggle: toggle})}\n          >\n            Віддано\n          </Button>\n        </div>\n      </Popper>\n    </>\n  );\n}\n\nexport default StatusPopper;\n","import Axios from \"axios\";\nimport {useMutation, useQueryClient} from \"react-query\";\n\nexport default function useSetStatus() {\n  const queryClient = useQueryClient();\n  return useMutation(\n    (params) => Axios.get(\"/api/statuses/\" + params.orderId + \"/\" + params.statusId),\n    {\n      onSuccess: (_, params) => {\n        queryClient.invalidateQueries(\"orders\");\n        params.toggle();\n      },\n    }\n  );\n}\n","import {Button, Link, TextField} from \"@material-ui/core\";\nimport {XGrid} from \"@material-ui/x-grid\";\nimport React, {useState} from \"react\";\nimport {useQueryClient} from \"react-query\";\nimport {useSelector} from \"react-redux\";\nimport {SHOW_CUSTOMER_MODAL} from \"./context/actions\";\nimport store from \"./context/store\";\nimport EditForm from \"./EditForm\";\nimport useExportOrders from \"./hooks/useExportOrders\";\nimport useOrders from \"./hooks/useOrders\";\nimport StatusPopper from \"./StatusPopper\";\nimport \"./Table.css\";\nimport ToolTip from \"./ToolTip\";\nimport Backdrop from \"@material-ui/core/Backdrop\";\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\n\nfunction strcmp(a, b) {\n  return a.localeCompare(b);\n}\n\nconst formatDate = (date) =>\n  new Intl.DateTimeFormat(\"en-GB\", {\n    year: \"numeric\",\n    month: \"2-digit\",\n    day: \"2-digit\",\n    hour: \"2-digit\",\n    minute: \"2-digit\",\n    second: \"2-digit\",\n    hour12: false,\n  }).format(date);\n\nexport default function Table({tableID}) {\n  const [sortOrder, setSortOrder] = useState({orderId: \"desc\"});\n  const [q, setQ] = useState(\"\");\n  const [showBackdrop, setShowBackdrop] = useState(false);\n  const sortState = useSelector((state) => state.sortSelections);\n  const authState = useSelector((state) => state.auth);\n  const ordersQuery = useOrders(tableID, sortState[sortState.active], authState.customer);\n  const queryClient = useQueryClient();\n  const exportQuery = useExportOrders();\n\n  const columns = (orderBy) => {\n    const columns = [\n      {\n        field: \"orderId\",\n        type: \"number\",\n        headerName: \"№\",\n        flex: 0.8,\n        renderCell: (params) => (\n          <EditForm user={authState.loggedUser} roles={authState.roles} order={params.row} />\n        ),\n      },\n      {\n        field: \"billNo\",\n        type: \"number\",\n        headerName: \"Рах\",\n        flex: 0.6,\n      },\n      {\n        field: \"customer\",\n        headerName: \"Замовник\",\n        flex: 2.2,\n        sortComparator: (c1, c2) => strcmp(c1.customerName, c2.customerName),\n        valueFormatter: (param) => param.value.customerName,\n        renderCell: (params) =>\n          authState.customer ? (\n            <b>{params.value.customerName}</b>\n          ) : (\n            <Link\n              className=\"name-link\"\n              onClick={() => store.dispatch(SHOW_CUSTOMER_MODAL(params.row.customer))}\n            >\n              {params.value.info ? (\n                <ToolTip title={params.value.info}>\n                  <b>{params.value.customerName}</b>\n                </ToolTip>\n              ) : (\n                <b>{params.value.customerName}</b>\n              )}\n            </Link>\n          ),\n      },\n      {\n        field: \"date\",\n        type: \"dateTime\",\n        headerName: \"Дата\",\n        flex: 1.2,\n        valueFormatter: (param) => formatDate(param.value),\n      },\n      {\n        field: \"width\",\n        type: \"number\",\n        headerName: \"Ширина\",\n        valueFormatter: (row) => row.value,\n        flex: 1.09,\n      },\n      {\n        field: \"height\",\n        type: \"number\",\n        headerName: \"Висота\",\n        valueFormatter: (row) => row.value,\n        flex: 1,\n      },\n      {\n        field: \"amount\",\n        type: \"number\",\n        headerName: \"К-сть\",\n        valueFormatter: (row) => row.value,\n        flex: 0.85,\n      },\n      {\n        field: \"m2\",\n        type: \"number\",\n        headerName: \"М2\",\n        valueFormatter: (row) => Number.parseFloat(row.value).toFixed(3),\n        flex: 0.9,\n      },\n      {\n        field: \"price\",\n        type: \"number\",\n        headerName: \"Ціна\",\n        valueFormatter: (row) => row.value,\n        flex: 0.8,\n      },\n      {\n        field: \"fees\",\n        type: \"number\",\n        headerName: \"Послуги\",\n        valueFormatter: (row) => row.value,\n        flex: 1,\n      },\n      {\n        field: \"finalSum\",\n        type: \"number\",\n        headerName: \"Сума\",\n        flex: 0.9,\n        renderCell: (params) => <b> {params.value} </b>,\n      },\n      {\n        field: \"paid\",\n        headerName: \"Оплата\",\n        sortable: false,\n        flex: 1.1,\n        cellClassName: \"centered\",\n        renderCell: (params) => {\n          if (params.row.paySum === params.row.finalSum) {\n            return (\n              <ToolTip title={formatDate(new Date(params.row.payDate))} arrow>\n                <img src=\"img/completed.svg\" width=\"19\" height=\"19\" alt=\"paid\" />\n              </ToolTip>\n            );\n          } else if (params.row.paySum > 0)\n            return (\n              <ToolTip\n                title={params.row.paySum + \" грн, \" + formatDate(new Date(params.row.payDate))}\n                arrow\n              >\n                <img src=\"img/partly_paid.svg\" width=\"19\" height=\"19\" alt=\"partly__paid\" />\n              </ToolTip>\n            );\n        },\n      },\n      {\n        field: \"status\",\n        headerName: \"Статус\",\n        flex: 1.1,\n        cellClassName: \"centered\",\n        sortComparator: (c1, c2) => c1.id - c2.id,\n        renderCell: (params) =>\n          authState.customer ? (\n            <ToolTip title={params.row.status.name} arrow>\n              <StatusPopper\n                orderId={params.row.orderId}\n                status={params.row.status.id}\n                disabled={true}\n              />\n            </ToolTip>\n          ) : (\n            <StatusPopper orderId={params.row.orderId} status={params.row.status.id} />\n          ),\n      },\n      {\n        field: \"orderType\",\n        type: \"string\",\n        headerName: \"Вид\",\n        flex: 1.8,\n        sortComparator: (c1, c2) => strcmp(c1.typeName, c2.typeName),\n        valueFormatter: (param) => param.value.typeName,\n      },\n      {\n        field: \"orderKind\",\n        headerName: \"Тип\",\n        flex: 1.8,\n        sortComparator: (c1, c2) => strcmp(c1.kindName, c2.kindName),\n        valueFormatter: (param) => param.value.kindName,\n      },\n      {\n        field: \"comment\",\n        headerName: \"Опис замовлення\",\n        flex: 6,\n        sortComparator: (c1, c2) => strcmp(c1, c2),\n        renderCell: (params) => (\n          <ToolTip title={params.value} placement=\"left-start\">\n            {params.value}\n          </ToolTip>\n        ),\n      },\n    ];\n\n    Object.keys(orderBy).forEach(\n      (key) => (columns.find((column) => column.field === key).sortDirection = orderBy[key])\n    );\n    return Object.values(columns);\n  };\n\n  const filter = (rows) => {\n    if (!rows) return [];\n    return rows.filter(\n      (row) =>\n        row.orderId?.toString().toLowerCase().indexOf(q.toLowerCase()) > -1 ||\n        row.billNo?.toString().toLowerCase().indexOf(q.toLowerCase()) > -1 ||\n        row.customer.customerName.toString().toLowerCase().indexOf(q.toLowerCase()) > -1 ||\n        formatDate(row.date)?.toString().toLowerCase().indexOf(q.toLowerCase()) > -1 ||\n        row.fees?.toString().toLowerCase().indexOf(q.toLowerCase()) > -1 ||\n        row.finalSum?.toString().toLowerCase().indexOf(q.toLowerCase()) > -1 ||\n        row.amount?.toString().toLowerCase().indexOf(q.toLowerCase()) > -1 ||\n        row.price?.toString().toLowerCase().indexOf(q.toLowerCase()) > -1 ||\n        row.height?.toString().toLowerCase().indexOf(q.toLowerCase()) > -1 ||\n        row.width?.toString().toLowerCase().indexOf(q.toLowerCase()) > -1 ||\n        row.m2?.toString().toLowerCase().indexOf(q.toLowerCase()) > -1 ||\n        row.orderKind.kindName?.toString().toLowerCase().indexOf(q.toLowerCase()) > -1 ||\n        row.orderType.typeName?.toString().toLowerCase().indexOf(q.toLowerCase()) > -1 ||\n        row.comment?.toString().toLowerCase().indexOf(q.toLowerCase()) > -1\n    );\n  };\n\n  const calculateDebt = (customer) => {\n    let customerInfo;\n    if (authState.roles.includes(\"ROLE_CUSTOMER\")) {\n      customerInfo = authState.customer;\n    } else {\n      const data = queryClient.getQueryData(\"customers\");\n      customerInfo = data.find((c) => c.customerId === customer.customerId);\n    }\n\n    let debt = 0;\n    if (tableID === 2) {\n      debt = ordersQuery.data?.listOfOrders?.reduce((a, b) => (a += b.finalSum - b.paySum), 0);\n    } else {\n      debt = ordersQuery.data.reduce((a, b) => (a += b.finalSum - b.paySum), 0);\n    }\n    return debt - customerInfo.money;\n  };\n\n  return (\n    <>\n      <Backdrop open={showBackdrop}>\n        <CircularProgress color=\"inherit\" />\n      </Backdrop>\n      <TextField\n        variant=\"outlined\"\n        size=\"small\"\n        placeholder=\"Швидкий пошук\"\n        onChange={(e) => setQ(e.target.value)}\n        InputProps={{\n          endAdornment: authState.roles.includes(\"ROLE_ORDERS_EXPORTER\") && (\n            <Button\n              className=\"export-btn\"\n              variant=\"outlined\"\n              onClick={() =>\n                exportQuery.mutate({\n                  orders: filter(\n                    tableID !== 2 ? ordersQuery.data : ordersQuery.data.listOfOrders\n                  ),\n                  setBackdrop: setShowBackdrop,\n                })\n              }\n            >\n              Експорт\n            </Button>\n          ),\n        }}\n      />\n\n      <div className=\"x-grid\">\n        {(sortState[sortState.active].customer || authState.customer) && (\n          <div className=\"action__bar__stat\">\n            <label>\n              Сума боргу : <b>{calculateDebt(sortState[sortState.active].customer)}</b> грн\n            </label>\n          </div>\n        )}\n        {tableID === 2 && (\n          <div className=\"action__bar__stat sort__info\">\n            <label>\n              Кількість : <b>{ordersQuery.data.amount}</b>\n            </label>\n            <label>\n              M2 : <b>{ordersQuery.data.m2}</b>\n            </label>\n            <label>\n              Послуги : <b>{ordersQuery.data.fees}</b>\n            </label>\n            <label>\n              Сума : <b>{ordersQuery.data.sum}</b>\n            </label>\n            <label>\n              Оплачено : <b>{ordersQuery.data.paid}</b>\n            </label>\n          </div>\n        )}\n        <div className=\"frame\">\n          <div className=\"grid-holder\">\n            <XGrid\n              rows={filter(tableID !== 2 ? ordersQuery.data : ordersQuery.data.listOfOrders)}\n              columns={columns(sortOrder)}\n              onSortModelChange={(e) => {\n                let sortModel = {};\n                if (e.sortModel.length > 0) {\n                  sortModel[e.sortModel[0]?.field] = e.sortModel[0]?.sort;\n                } else {\n                  sortModel[\"orderId\"] = \"desc\";\n                }\n                setSortOrder(sortModel);\n              }}\n              loading={ordersQuery.isLoading}\n              rowHeight={35}\n              headerHeight={35}\n              pagination={true}\n              disableSelectionOnClick={true}\n            />\n          </div>\n        </div>\n      </div>\n    </>\n  );\n}\n","import {useQuery} from \"react-query\";\nimport * as OrderService from \".././services/orders-service\";\n\nexport default function useOrders(tableID, sortState, customer) {\n  return useQuery(\n    [\"orders\", tableID, sortState],\n    () => OrderService.sortOrders(tableID, sortState, customer),\n    {\n      initialData: [],\n      initialStale: true,\n      keepPreviousData: false,\n    }\n  );\n}\n","import Axios from \"axios\";\nimport {useMutation} from \"react-query\";\n\nexport default function useExportOrders() {\n  return useMutation(\n    (form) => {\n      form.setBackdrop(true);\n      return Axios.post(\n        \"api/orders/export/\",\n        {orders: form.orders},\n        {\n          responseType: \"arraybuffer\",\n        }\n      );\n    },\n    {\n      onError: (_, params) => {\n        params.setStatus({success: false, error: true});\n        params.setBackdrop(false);\n      },\n      onSuccess: (val, params) => {\n        const blob = new Blob([val.data], {\n          type: \"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet\",\n        });\n\n        if (window.navigator && window.navigator.msSaveOrOpenBlob) {\n          window.navigator.msSaveOrOpenBlob(blob);\n          return;\n        }\n        const data = window.URL.createObjectURL(blob);\n        const link = document.createElement(\"a\");\n        link.href = data;\n        link.download = \"Список замовлень.xlsx\";\n        link.dispatchEvent(\n          new MouseEvent(\"click\", {bubbles: true, cancelable: true, view: window})\n        );\n        params.setBackdrop(false);\n      },\n    }\n  );\n}\n","import {useEffect, useState} from \"react\";\nimport {BrowserRouter as Router, Route, Switch} from \"react-router-dom\";\nimport ActionBar from \"./ActionBar\";\nimport SortActionBar from \"./SortActionBar\";\nimport UsersActionBar from \"./UsersActionBar\";\nimport \"./App.css\";\nimport ClientsTable from \"./ClientsTable\";\nimport DebtorsTable from \"./DebtorsTable\";\nimport CustomerForm from \"./CustomerForm\";\nimport Header from \"./Header\";\nimport useCELinks from \"./hooks/useCELinks\";\nimport useCPLinks from \"./hooks/useCPLinks\";\nimport useCustomers from \"./hooks/useCustomers\";\nimport useEmployees from \"./hooks/useEmployees\";\nimport useUsers from \"./hooks/useUsers\";\nimport useEntrepreneurs from \"./hooks/useEntrepreneurs\";\nimport useOrderTypes from \"./hooks/useOrderTypes\";\nimport useStatuses from \"./hooks/useStatuses\";\nimport useDebtors from \"./hooks/useDebtors\";\nimport Login from \"./Login\";\nimport Table from \"./Table\";\n\nfunction App() {\n  const [tableHeight, setTableHeight] = useState(0);\n\n  useCustomers();\n  useEntrepreneurs();\n  useEmployees();\n  useOrderTypes();\n  useStatuses();\n  useUsers();\n  useCELinks();\n  useCPLinks();\n  useDebtors();\n\n  useEffect(() => {\n    if (!tableHeight) {\n      if (document.getElementsByClassName(\"main__header\")[0]) {\n        setTableHeight(\n          window.innerHeight -\n            (32 +\n              document.getElementsByClassName(\"action__bar__button\")[0]?.clientHeight +\n              document.getElementsByClassName(\"main__header\")[0]?.clientHeight)\n        );\n      } else {\n        setTableHeight(\n          window.innerHeight -\n            (32 +\n              document.getElementsByClassName(\"action__bar__button\")[0]?.clientHeight +\n              document.getElementsByClassName(\"sort__header\")[0]?.clientHeight)\n        );\n      }\n    }\n  }, [tableHeight]);\n\n  return (\n    <div className=\"App\">\n      <Router>\n        <Switch>\n          <Route path=\"/login\">\n            <Login />\n          </Route>\n          <Route exact path=\"/\">\n            <div className=\"main\">\n              <div className=\"main__header\">\n                <Header radius={0} />\n                <ActionBar />\n              </div>\n              <div\n                className=\"main__table\"\n                style={{\n                  height: tableHeight,\n                }}\n              >\n                <Table tableID={1} key={1} />\n              </div>\n            </div>\n          </Route>\n          <Route path=\"/clients\">\n            <div className=\"clients\">\n              <div className=\"clients__header\">\n                <Header radius={4} />\n              </div>\n              <div\n                className=\"clients__table\"\n                style={{\n                  height:\n                    window.innerHeight -\n                    (62 + document.getElementsByClassName(\"clients__header\")[0]?.clientHeight),\n                }}\n              >\n                <ClientsTable />\n              </div>\n            </div>\n          </Route>\n          <Route path=\"/sort\">\n            <div className=\"sort\">\n              <div className=\"sort__header\">\n                <Header radius={0} />\n                <SortActionBar />\n              </div>\n              <div\n                className=\"sort__table\"\n                style={{\n                  height: tableHeight,\n                }}\n              >\n                <Table tableID={2} key={2} />\n              </div>\n            </div>\n          </Route>\n          <Route path=\"/users\">\n            <div className=\"users\">\n              <div className=\"users__header\">\n                <Header radius={0} />\n                <UsersActionBar />\n              </div>\n            </div>\n          </Route>\n          <Route path=\"/debtors\">\n            <div className=\"debtors\">\n              <div className=\"debtors__header\">\n                <Header radius={4} />\n              </div>\n              <div\n                className=\"debtors__table\"\n                style={{\n                  height:\n                    window.innerHeight -\n                    (32 + document.getElementsByClassName(\"debtors__header\")[0]?.clientHeight),\n                }}\n              >\n                <DebtorsTable />\n              </div>\n            </div>\n          </Route>\n        </Switch>\n      </Router>\n      <CustomerForm />\n    </div>\n  );\n}\n\nexport default App;\n","import {useQuery} from \"react-query\";\nimport {useSelector} from \"react-redux\";\nimport * as CustomerService from \".././services/customer-service\";\n\nexport default function useCustomers() {\n  const authState = useSelector((state) => state.auth);\n  return useQuery(\"customers\", () => CustomerService.fetchCustomers(authState.roles), {\n    refetchOnWindowFocus: false,\n  });\n}\n","import {useQuery} from \"react-query\";\nimport {useSelector} from \"react-redux\";\nimport * as CustomerService from \".././services/customer-service\";\n\nexport default function useEntrepreneurs() {\n  const authState = useSelector((state) => state.auth);\n  return useQuery(\"entrepreneurs\", () => CustomerService.fetchEntrepreneurs(authState.roles), {\n    initialData: [],\n    initialStale: true,\n    keepPreviousData: true,\n    refetchOnWindowFocus: false,\n  });\n}\n","import {useQuery} from \"react-query\";\nimport {useSelector} from \"react-redux\";\nimport * as CustomerService from \".././services/customer-service\";\n\nexport default function useEmployees() {\n  const authState = useSelector((state) => state.auth);\n  return useQuery(\"employees\", () => CustomerService.fetchEmployees(authState.roles), {\n    refetchOnWindowFocus: false,\n  });\n}\n","import {useQuery} from \"react-query\";\nimport {useSelector} from \"react-redux\";\nimport * as CustomerService from \".././services/customer-service\";\n\nexport default function useOrderTypes() {\n  const authState = useSelector((state) => state.auth);\n  return useQuery(\"orderTypes\", () => CustomerService.fetchOrderTypes(authState.roles), {\n    initialData: [],\n    initialStale: true,\n    keepPreviousData: true,\n  });\n}\n","import {useQuery} from \"react-query\";\nimport {useSelector} from \"react-redux\";\nimport * as CustomerService from \".././services/customer-service\";\n\nexport default function useStatuses() {\n  const authState = useSelector((state) => state.auth);\n  return useQuery(\"statuses\", () => CustomerService.fetchStatuses(authState.roles), {\n    initialData: [],\n    initialStale: true,\n    keepPreviousData: true,\n    refetchOnWindowFocus: false,\n  });\n}\n","import {useQuery} from \"react-query\";\nimport {useSelector} from \"react-redux\";\nimport * as CustomerService from \".././services/customer-service\";\n\nexport default function useUsers() {\n  const authState = useSelector((state) => state.auth);\n  return useQuery(\"users\", () => CustomerService.fetchUsers(authState.roles), {\n    refetchOnWindowFocus: false,\n  });\n}\n","import {useQuery} from \"react-query\";\nimport {useSelector} from \"react-redux\";\nimport * as CustomerService from \".././services/customer-service\";\n\nexport default function useCELinks() {\n  const authState = useSelector((state) => state.auth);\n  return useQuery(\"ce-links\", () => CustomerService.fetchCELinks(authState.roles), {\n    initialData: [],\n    initialStale: true,\n    keepPreviousData: true,\n  });\n}\n","import {useQuery} from \"react-query\";\nimport {useSelector} from \"react-redux\";\nimport * as CustomerService from \".././services/customer-service\";\n\nexport default function useCPLinks() {\n  const authState = useSelector((state) => state.auth);\n  return useQuery(\"cp-links\", () => CustomerService.fetchCPLinks(authState.roles), {\n    initialData: [],\n    initialStale: true,\n    keepPreviousData: true,\n  });\n}\n","import {useQuery} from \"react-query\";\nimport {useSelector} from \"react-redux\";\nimport * as CustomerService from \".././services/customer-service\";\n\nexport default function useEmployees() {\n  const authState = useSelector((state) => state.auth);\n  return useQuery(\"debtors\", () => CustomerService.fetchDebtors(authState.roles), {\n    refetchOnWindowFocus: false,\n  });\n}\n","import { Box, Paper, Typography } from \"@material-ui/core\";\nimport React from \"react\";\nimport Link from \"@material-ui/core/Link\";\nimport \"./NotFound.css\";\n\nfunction NotFound() {\n  return (\n    <Paper elevation={3} className=\"blue-holder\">\n      <Paper elevation={3} className=\"info\">\n        <div className=\"blank-page\">\n          <Typography variant=\"h4\" component=\"h3\">\n            Сторінка не знайдена\n          </Typography>{\" \"}\n          <Typography variant=\"h2\" component=\"h3\">\n            404\n          </Typography>\n        </div>\n        <Box mt={8}>\n          <Typography variant=\"body2\" color=\"textSecondary\" align=\"center\">\n            {\"Copyright © \"}\n            <Link color=\"inherit\" href=\"https://psdruk.com.ua/\">\n              psdruk.com.ua\n            </Link>{\" \"}\n            {new Date().getFullYear()}\n            {\".\"}\n          </Typography>\n        </Box>\n      </Paper>\n    </Paper>\n  );\n}\n\nexport default NotFound;\n","import {Redirect, Route} from \"react-router-dom\";\nimport {SET_AUTHENTICATED} from \"./context/actions\";\nimport store from \"./context/store\";\nimport {useSelector} from \"react-redux\";\n\nexport const ProtectedRoute = ({component: Component, ...props}) => {\n  const authState = useSelector((store) => store.auth);\n  const authToken = localStorage.getItem(\"token\");\n  const username = localStorage.getItem(\"username\");\n  const fullName = localStorage.getItem(\"fullName\");\n  const roles = localStorage.getItem(\"roles\")?.split(\",\") || [];\n  const loggedUser = JSON.parse(localStorage.getItem(\"loggedUser\"));\n  const customer = JSON.parse(localStorage.getItem(\"customer\"));\n\n  return (\n    <Route\n      {...props}\n      render={(props) => {\n        if (authState.isAuthenticated) {\n          return <Component {...props} />;\n        } else if (authToken) {\n          store.dispatch(\n            SET_AUTHENTICATED(authToken, loggedUser, customer, username, roles, fullName)\n          );\n          return <Component {...props} />;\n        } else {\n          return <Redirect to={{pathname: \"/login\", state: {from: props.location}}} />;\n        }\n      }}\n    />\n  );\n};\n","import DateFnsUtils from \"@date-io/date-fns\";\nimport {formatISO} from \"date-fns\";\nimport {createMuiTheme, MuiThemeProvider} from \"@material-ui/core\";\nimport {ukUA} from \"@material-ui/core/locale\";\nimport {MuiPickersUtilsProvider} from \"@material-ui/pickers\";\nimport {uk} from \"date-fns/locale\";\nimport React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport {QueryCache, QueryClient, QueryClientProvider} from \"react-query\";\nimport {ReactQueryDevtools} from \"react-query/devtools\";\nimport {Provider} from \"react-redux\";\nimport {BrowserRouter as Router, Route, Switch} from \"react-router-dom\";\nimport App from \"./App\";\nimport store from \"./context/store\";\nimport \"./index.css\";\nimport Login from \"./Login\";\nimport NotFound from \"./NotFound\";\nimport {ProtectedRoute} from \"./ProtectedRoute\";\n\nconst oldTheme = createMuiTheme(\n  {\n    palette: {\n      primary: {\n        light: \"#fff\",\n        main: \"rgba(0, 60, 170, 0.95)\",\n        dark: \"rgba(0, 40, 170, 0.95)\",\n      },\n      secondary: {\n        main: \"#f44336\",\n      },\n    },\n    typography: {\n      useNextVariants: true,\n      fontSize: 11,\n      htmlFontSize: 15,\n    },\n  },\n  ukUA\n);\n\nconst {breakpoints} = oldTheme;\nconst theme = {\n  ...oldTheme,\n  overrides: {\n    MuiInputLabel: {\n      root: {\n        fontSize: 11,\n        [breakpoints.up(\"lg\")]: {\n          fontSize: 11,\n        },\n        [breakpoints.down(1300)]: {\n          fontSize: 9,\n        },\n      },\n    },\n    MuiInputAdornment: {\n      root: {\n        fontSize: 11,\n        [breakpoints.up(\"lg\")]: {\n          fontSize: 11,\n        },\n        [breakpoints.down(1300)]: {\n          fontSize: 9,\n        },\n      },\n    },\n    MuiInputBase: {\n      root: {\n        fontSize: 11,\n        [breakpoints.up(\"lg\")]: {\n          fontSize: 11,\n        },\n        [breakpoints.down(1300)]: {\n          fontSize: 9,\n        },\n      },\n    },\n    MuiTypography: {\n      root: {\n        fontSize: 11,\n        [breakpoints.up(\"lg\")]: {\n          fontSize: 11,\n        },\n        [breakpoints.down(1300)]: {\n          fontSize: 9,\n        },\n      },\n      subtitle1: {\n        fontSize: 11,\n        [breakpoints.up(\"lg\")]: {\n          fontSize: 11,\n        },\n        [breakpoints.down(1300)]: {\n          fontSize: 9,\n        },\n      },\n      body1: {\n        fontSize: 12,\n        [breakpoints.up(\"lg\")]: {\n          fontSize: 12,\n        },\n        [breakpoints.down(1300)]: {\n          fontSize: 10,\n        },\n      },\n      button: {\n        fontSize: 11,\n        [breakpoints.up(\"lg\")]: {\n          fontSize: 11,\n        },\n        [breakpoints.down(1300)]: {\n          fontSize: 9,\n        },\n      },\n    },\n    MuiButton: {\n      root: {\n        fontSize: 11,\n        [breakpoints.up(\"lg\")]: {\n          fontSize: 11,\n        },\n        [breakpoints.down(1300)]: {\n          fontSize: 9,\n        },\n      },\n    },\n    MuiTab: {\n      root: {\n        fontSize: 11,\n        [breakpoints.up(\"lg\")]: {\n          fontSize: 11,\n        },\n        [breakpoints.down(1300)]: {\n          fontSize: 9,\n        },\n      },\n    },\n    MuiSvgIcon: {\n      root: {\n        [breakpoints.down(1300)]: {\n          fontSize: 15,\n        },\n      },\n    },\n  },\n};\n\n// eslint-disable-next-line no-extend-native\nDate.prototype.toISOString = function () {\n  const date = formatISO(this);\n  return date.substr(0, date.indexOf(\"+\"));\n};\n\nconst queryCache = new QueryCache();\nconst queryClient = new QueryClient({queryCache});\n\nReactDOM.render(\n  <MuiThemeProvider theme={theme}>\n    <QueryClientProvider client={queryClient}>\n      <MuiPickersUtilsProvider utils={DateFnsUtils} locale={uk}>\n        <Provider store={store}>\n          <Router>\n            <Switch>\n              <Route path=\"/login\" component={Login} />\n              <ProtectedRoute path=\"/\" component={App} />\n              <Route path=\"*\" component={NotFound} />\n            </Switch>\n          </Router>\n        </Provider>\n      </MuiPickersUtilsProvider>\n      <ReactQueryDevtools />\n    </QueryClientProvider>\n  </MuiThemeProvider>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}